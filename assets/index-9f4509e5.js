(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function rr(t,e){const n=Object.create(null),r=t.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}function sr(t){if(R(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Z(r)?Yi(r):sr(r);if(s)for(const i in s)e[i]=s[i]}return e}else{if(Z(t))return t;if(Y(t))return t}}const $i=/;(?![^(]*\))/g,zi=/:([^]+)/,Ki=/\/\*.*?\*\//gs;function Yi(t){const e={};return t.replace(Ki,"").split($i).forEach(n=>{if(n){const r=n.split(zi);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ir(t){let e="";if(Z(t))e=t;else if(R(t))for(let n=0;n<t.length;n++){const r=ir(t[n]);r&&(e+=r+" ")}else if(Y(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Wi="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",qi=rr(Wi);function As(t){return!!t||t===""}function Ji(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=un(t[r],e[r]);return n}function un(t,e){if(t===e)return!0;let n=Lr(t),r=Lr(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Ot(t),r=Ot(e),n||r)return t===e;if(n=R(t),r=R(e),n||r)return n&&r?Ji(t,e):!1;if(n=Y(t),r=Y(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!un(t[o],e[o]))return!1}}return String(t)===String(e)}function Xi(t,e){return t.findIndex(n=>un(n,e))}const Tn=t=>Z(t)?t:t==null?"":R(t)||Y(t)&&(t.toString===vs||!D(t.toString))?JSON.stringify(t,ws,2):String(t),ws=(t,e)=>e&&e.__v_isRef?ws(t,e.value):dt(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:dn(e)?{[`Set(${e.size})`]:[...e.values()]}:Y(e)&&!R(e)&&!Cs(e)?String(e):e,K={},ft=[],Ne=()=>{},Qi=()=>!1,Zi=/^on[^a-z]/,fn=t=>Zi.test(t),or=t=>t.startsWith("onUpdate:"),se=Object.assign,ar=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},eo=Object.prototype.hasOwnProperty,F=(t,e)=>eo.call(t,e),R=Array.isArray,dt=t=>jt(t)==="[object Map]",dn=t=>jt(t)==="[object Set]",Lr=t=>jt(t)==="[object Date]",D=t=>typeof t=="function",Z=t=>typeof t=="string",Ot=t=>typeof t=="symbol",Y=t=>t!==null&&typeof t=="object",Ss=t=>Y(t)&&D(t.then)&&D(t.catch),vs=Object.prototype.toString,jt=t=>vs.call(t),to=t=>jt(t).slice(8,-1),Cs=t=>jt(t)==="[object Object]",lr=t=>Z(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Xt=rr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),hn=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},no=/-(\w)/g,pt=hn(t=>t.replace(no,(e,n)=>n?n.toUpperCase():"")),ro=/\B([A-Z])/g,Et=hn(t=>t.replace(ro,"-$1").toLowerCase()),Is=hn(t=>t.charAt(0).toUpperCase()+t.slice(1)),Rn=hn(t=>t?`on${Is(t)}`:""),Bt=(t,e)=>!Object.is(t,e),Qt=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},rn=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Ts=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Ur;const so=()=>Ur||(Ur=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ee;class io{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ee,!e&&Ee&&(this.index=(Ee.scopes||(Ee.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Ee;try{return Ee=this,e()}finally{Ee=n}}}on(){Ee=this}off(){Ee=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function oo(t,e=Ee){e&&e.active&&e.effects.push(t)}function ao(){return Ee}const cr=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Rs=t=>(t.w&Ve)>0,xs=t=>(t.n&Ve)>0,lo=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Ve},co=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const s=e[r];Rs(s)&&!xs(s)?s.delete(t):e[n++]=s,s.w&=~Ve,s.n&=~Ve}e.length=n}},kn=new WeakMap;let St=0,Ve=1;const jn=30;let ye;const nt=Symbol(""),Gn=Symbol("");class ur{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,oo(this,r)}run(){if(!this.active)return this.fn();let e=ye,n=je;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=ye,ye=this,je=!0,Ve=1<<++St,St<=jn?lo(this):Fr(this),this.fn()}finally{St<=jn&&co(this),Ve=1<<--St,ye=this.parent,je=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ye===this?this.deferStop=!0:this.active&&(Fr(this),this.onStop&&this.onStop(),this.active=!1)}}function Fr(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let je=!0;const Os=[];function yt(){Os.push(je),je=!1}function _t(){const t=Os.pop();je=t===void 0?!0:t}function ue(t,e,n){if(je&&ye){let r=kn.get(t);r||kn.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=cr()),Bs(s)}}function Bs(t,e){let n=!1;St<=jn?xs(t)||(t.n|=Ve,n=!Rs(t)):n=!t.has(ye),n&&(t.add(ye),ye.deps.push(t))}function Le(t,e,n,r,s,i){const o=kn.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&R(t)){const c=Number(r);o.forEach((f,h)=>{(h==="length"||h>=c)&&a.push(f)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":R(t)?lr(n)&&a.push(o.get("length")):(a.push(o.get(nt)),dt(t)&&a.push(o.get(Gn)));break;case"delete":R(t)||(a.push(o.get(nt)),dt(t)&&a.push(o.get(Gn)));break;case"set":dt(t)&&a.push(o.get(nt));break}if(a.length===1)a[0]&&Vn(a[0]);else{const c=[];for(const f of a)f&&c.push(...f);Vn(cr(c))}}function Vn(t,e){const n=R(t)?t:[...t];for(const r of n)r.computed&&Hr(r);for(const r of n)r.computed||Hr(r)}function Hr(t,e){(t!==ye||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const uo=rr("__proto__,__v_isRef,__isVue"),Ds=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ot)),fo=fr(),ho=fr(!1,!0),mo=fr(!0),kr=po();function po(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=H(this);for(let i=0,o=this.length;i<o;i++)ue(r,"get",i+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(H)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){yt();const r=H(this)[e].apply(this,n);return _t(),r}}),t}function go(t){const e=H(this);return ue(e,"has",t),e.hasOwnProperty(t)}function fr(t=!1,e=!1){return function(r,s,i){if(s==="__v_isReactive")return!t;if(s==="__v_isReadonly")return t;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&i===(t?e?xo:ks:e?Hs:Fs).get(r))return r;const o=R(r);if(!t){if(o&&F(kr,s))return Reflect.get(kr,s,i);if(s==="hasOwnProperty")return go}const a=Reflect.get(r,s,i);return(Ot(s)?Ds.has(s):uo(s))||(t||ue(r,"get",s),e)?a:te(a)?o&&lr(s)?a:a.value:Y(a)?t?js(a):mr(a):a}}const bo=Ls(),Mo=Ls(!0);function Ls(t=!1){return function(n,r,s,i){let o=n[r];if(gt(o)&&te(o)&&!te(s))return!1;if(!t&&(!sn(s)&&!gt(s)&&(o=H(o),s=H(s)),!R(n)&&te(o)&&!te(s)))return o.value=s,!0;const a=R(n)&&lr(r)?Number(r)<n.length:F(n,r),c=Reflect.set(n,r,s,i);return n===H(i)&&(a?Bt(s,o)&&Le(n,"set",r,s):Le(n,"add",r,s)),c}}function Eo(t,e){const n=F(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Le(t,"delete",e,void 0),r}function yo(t,e){const n=Reflect.has(t,e);return(!Ot(e)||!Ds.has(e))&&ue(t,"has",e),n}function _o(t){return ue(t,"iterate",R(t)?"length":nt),Reflect.ownKeys(t)}const Us={get:fo,set:bo,deleteProperty:Eo,has:yo,ownKeys:_o},Po={get:mo,set(t,e){return!0},deleteProperty(t,e){return!0}},No=se({},Us,{get:ho,set:Mo}),dr=t=>t,mn=t=>Reflect.getPrototypeOf(t);function zt(t,e,n=!1,r=!1){t=t.__v_raw;const s=H(t),i=H(e);n||(e!==i&&ue(s,"get",e),ue(s,"get",i));const{has:o}=mn(s),a=r?dr:n?gr:Dt;if(o.call(s,e))return a(t.get(e));if(o.call(s,i))return a(t.get(i));t!==s&&t.get(e)}function Kt(t,e=!1){const n=this.__v_raw,r=H(n),s=H(t);return e||(t!==s&&ue(r,"has",t),ue(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Yt(t,e=!1){return t=t.__v_raw,!e&&ue(H(t),"iterate",nt),Reflect.get(t,"size",t)}function jr(t){t=H(t);const e=H(this);return mn(e).has.call(e,t)||(e.add(t),Le(e,"add",t,t)),this}function Gr(t,e){e=H(e);const n=H(this),{has:r,get:s}=mn(n);let i=r.call(n,t);i||(t=H(t),i=r.call(n,t));const o=s.call(n,t);return n.set(t,e),i?Bt(e,o)&&Le(n,"set",t,e):Le(n,"add",t,e),this}function Vr(t){const e=H(this),{has:n,get:r}=mn(e);let s=n.call(e,t);s||(t=H(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&Le(e,"delete",t,void 0),i}function $r(){const t=H(this),e=t.size!==0,n=t.clear();return e&&Le(t,"clear",void 0,void 0),n}function Wt(t,e){return function(r,s){const i=this,o=i.__v_raw,a=H(o),c=e?dr:t?gr:Dt;return!t&&ue(a,"iterate",nt),o.forEach((f,h)=>r.call(s,c(f),c(h),i))}}function qt(t,e,n){return function(...r){const s=this.__v_raw,i=H(s),o=dt(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,f=s[t](...r),h=n?dr:e?gr:Dt;return!e&&ue(i,"iterate",c?Gn:nt),{next(){const{value:g,done:E}=f.next();return E?{value:g,done:E}:{value:a?[h(g[0]),h(g[1])]:h(g),done:E}},[Symbol.iterator](){return this}}}}function He(t){return function(...e){return t==="delete"?!1:this}}function Ao(){const t={get(i){return zt(this,i)},get size(){return Yt(this)},has:Kt,add:jr,set:Gr,delete:Vr,clear:$r,forEach:Wt(!1,!1)},e={get(i){return zt(this,i,!1,!0)},get size(){return Yt(this)},has:Kt,add:jr,set:Gr,delete:Vr,clear:$r,forEach:Wt(!1,!0)},n={get(i){return zt(this,i,!0)},get size(){return Yt(this,!0)},has(i){return Kt.call(this,i,!0)},add:He("add"),set:He("set"),delete:He("delete"),clear:He("clear"),forEach:Wt(!0,!1)},r={get(i){return zt(this,i,!0,!0)},get size(){return Yt(this,!0)},has(i){return Kt.call(this,i,!0)},add:He("add"),set:He("set"),delete:He("delete"),clear:He("clear"),forEach:Wt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=qt(i,!1,!1),n[i]=qt(i,!0,!1),e[i]=qt(i,!1,!0),r[i]=qt(i,!0,!0)}),[t,n,e,r]}const[wo,So,vo,Co]=Ao();function hr(t,e){const n=e?t?Co:vo:t?So:wo;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(F(n,s)&&s in r?n:r,s,i)}const Io={get:hr(!1,!1)},To={get:hr(!1,!0)},Ro={get:hr(!0,!1)},Fs=new WeakMap,Hs=new WeakMap,ks=new WeakMap,xo=new WeakMap;function Oo(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Bo(t){return t.__v_skip||!Object.isExtensible(t)?0:Oo(to(t))}function mr(t){return gt(t)?t:pr(t,!1,Us,Io,Fs)}function Do(t){return pr(t,!1,No,To,Hs)}function js(t){return pr(t,!0,Po,Ro,ks)}function pr(t,e,n,r,s){if(!Y(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=Bo(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function ht(t){return gt(t)?ht(t.__v_raw):!!(t&&t.__v_isReactive)}function gt(t){return!!(t&&t.__v_isReadonly)}function sn(t){return!!(t&&t.__v_isShallow)}function Gs(t){return ht(t)||gt(t)}function H(t){const e=t&&t.__v_raw;return e?H(e):t}function Vs(t){return rn(t,"__v_skip",!0),t}const Dt=t=>Y(t)?mr(t):t,gr=t=>Y(t)?js(t):t;function $s(t){je&&ye&&(t=H(t),Bs(t.dep||(t.dep=cr())))}function zs(t,e){t=H(t);const n=t.dep;n&&Vn(n)}function te(t){return!!(t&&t.__v_isRef===!0)}function pe(t){return Lo(t,!1)}function Lo(t,e){return te(t)?t:new Uo(t,e)}class Uo{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:H(e),this._value=n?e:Dt(e)}get value(){return $s(this),this._value}set value(e){const n=this.__v_isShallow||sn(e)||gt(e);e=n?e:H(e),Bt(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Dt(e),zs(this))}}function vt(t){return te(t)?t.value:t}const Fo={get:(t,e,n)=>vt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return te(s)&&!te(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Ks(t){return ht(t)?t:new Proxy(t,Fo)}var Ys;class Ho{constructor(e,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Ys]=!1,this._dirty=!0,this.effect=new ur(e,()=>{this._dirty||(this._dirty=!0,zs(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=H(this);return $s(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}Ys="__v_isReadonly";function ko(t,e,n=!1){let r,s;const i=D(t);return i?(r=t,s=Ne):(r=t.get,s=t.set),new Ho(r,s,i||!s,n)}function Ge(t,e,n,r){let s;try{s=r?t(...r):t()}catch(i){pn(i,e,n)}return s}function be(t,e,n,r){if(D(t)){const i=Ge(t,e,n,r);return i&&Ss(i)&&i.catch(o=>{pn(o,e,n)}),i}const s=[];for(let i=0;i<t.length;i++)s.push(be(t[i],e,n,r));return s}function pn(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const f=i.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](t,o,a)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){Ge(c,null,10,[t,o,a]);return}}jo(t,n,s,r)}function jo(t,e,n,r=!0){console.error(t)}let Lt=!1,$n=!1;const re=[];let Te=0;const mt=[];let Be=null,Qe=0;const Ws=Promise.resolve();let br=null;function Go(t){const e=br||Ws;return t?e.then(this?t.bind(this):t):e}function Vo(t){let e=Te+1,n=re.length;for(;e<n;){const r=e+n>>>1;Ut(re[r])<t?e=r+1:n=r}return e}function Mr(t){(!re.length||!re.includes(t,Lt&&t.allowRecurse?Te+1:Te))&&(t.id==null?re.push(t):re.splice(Vo(t.id),0,t),qs())}function qs(){!Lt&&!$n&&($n=!0,br=Ws.then(Xs))}function $o(t){const e=re.indexOf(t);e>Te&&re.splice(e,1)}function zo(t){R(t)?mt.push(...t):(!Be||!Be.includes(t,t.allowRecurse?Qe+1:Qe))&&mt.push(t),qs()}function zr(t,e=Lt?Te+1:0){for(;e<re.length;e++){const n=re[e];n&&n.pre&&(re.splice(e,1),e--,n())}}function Js(t){if(mt.length){const e=[...new Set(mt)];if(mt.length=0,Be){Be.push(...e);return}for(Be=e,Be.sort((n,r)=>Ut(n)-Ut(r)),Qe=0;Qe<Be.length;Qe++)Be[Qe]();Be=null,Qe=0}}const Ut=t=>t.id==null?1/0:t.id,Ko=(t,e)=>{const n=Ut(t)-Ut(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Xs(t){$n=!1,Lt=!0,re.sort(Ko);const e=Ne;try{for(Te=0;Te<re.length;Te++){const n=re[Te];n&&n.active!==!1&&Ge(n,null,14)}}finally{Te=0,re.length=0,Js(),Lt=!1,br=null,(re.length||mt.length)&&Xs()}}function Yo(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||K;let s=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in r){const h=`${o==="modelValue"?"model":o}Modifiers`,{number:g,trim:E}=r[h]||K;E&&(s=n.map(C=>Z(C)?C.trim():C)),g&&(s=n.map(Ts))}let a,c=r[a=Rn(e)]||r[a=Rn(pt(e))];!c&&i&&(c=r[a=Rn(Et(e))]),c&&be(c,t,6,s);const f=r[a+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,be(f,t,6,s)}}function Qs(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!D(t)){const c=f=>{const h=Qs(f,e,!0);h&&(a=!0,se(o,h))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(Y(t)&&r.set(t,null),null):(R(i)?i.forEach(c=>o[c]=null):se(o,i),Y(t)&&r.set(t,o),o)}function gn(t,e){return!t||!fn(e)?!1:(e=e.slice(2).replace(/Once$/,""),F(t,e[0].toLowerCase()+e.slice(1))||F(t,Et(e))||F(t,e))}let ge=null,bn=null;function on(t){const e=ge;return ge=t,bn=t&&t.type.__scopeId||null,e}function Wo(t){bn=t}function qo(){bn=null}function Jo(t,e=ge,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&ns(-1);const i=on(e);let o;try{o=t(...s)}finally{on(i),r._d&&ns(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function xn(t){const{type:e,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:c,emit:f,render:h,renderCache:g,data:E,setupState:C,ctx:x,inheritAttrs:S}=t;let W,k;const ae=on(t);try{if(n.shapeFlag&4){const z=s||r;W=Ie(h.call(z,z,g,i,C,E,x)),k=c}else{const z=e;W=Ie(z.length>1?z(i,{attrs:c,slots:a,emit:f}):z(i,null)),k=e.props?c:Xo(c)}}catch(z){Tt.length=0,pn(z,t,1),W=De(Ae)}let B=W;if(k&&S!==!1){const z=Object.keys(k),{shapeFlag:ne}=B;z.length&&ne&7&&(o&&z.some(or)&&(k=Qo(k,o)),B=$e(B,k))}return n.dirs&&(B=$e(B),B.dirs=B.dirs?B.dirs.concat(n.dirs):n.dirs),n.transition&&(B.transition=n.transition),W=B,on(ae),W}const Xo=t=>{let e;for(const n in t)(n==="class"||n==="style"||fn(n))&&((e||(e={}))[n]=t[n]);return e},Qo=(t,e)=>{const n={};for(const r in t)(!or(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Zo(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:c}=e,f=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Kr(r,o,f):!!o;if(c&8){const h=e.dynamicProps;for(let g=0;g<h.length;g++){const E=h[g];if(o[E]!==r[E]&&!gn(f,E))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Kr(r,o,f):!0:!!o;return!1}function Kr(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!gn(n,i))return!0}return!1}function ea({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const ta=t=>t.__isSuspense;function na(t,e){e&&e.pendingBranch?R(t)?e.effects.push(...t):e.effects.push(t):zo(t)}function ra(t,e){if(Q){let n=Q.provides;const r=Q.parent&&Q.parent.provides;r===n&&(n=Q.provides=Object.create(r)),n[t]=e}}function Zt(t,e,n=!1){const r=Q||ge;if(r){const s=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&D(e)?e.call(r.proxy):e}}const Jt={};function Ct(t,e,n){return Zs(t,e,n)}function Zs(t,e,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:o}=K){const a=ao()===(Q==null?void 0:Q.scope)?Q:null;let c,f=!1,h=!1;if(te(t)?(c=()=>t.value,f=sn(t)):ht(t)?(c=()=>t,r=!0):R(t)?(h=!0,f=t.some(B=>ht(B)||sn(B)),c=()=>t.map(B=>{if(te(B))return B.value;if(ht(B))return tt(B);if(D(B))return Ge(B,a,2)})):D(t)?e?c=()=>Ge(t,a,2):c=()=>{if(!(a&&a.isUnmounted))return g&&g(),be(t,a,3,[E])}:c=Ne,e&&r){const B=c;c=()=>tt(B())}let g,E=B=>{g=k.onStop=()=>{Ge(B,a,4)}},C;if(Ht)if(E=Ne,e?n&&be(e,a,3,[c(),h?[]:void 0,E]):c(),s==="sync"){const B=tl();C=B.__watcherHandles||(B.__watcherHandles=[])}else return Ne;let x=h?new Array(t.length).fill(Jt):Jt;const S=()=>{if(k.active)if(e){const B=k.run();(r||f||(h?B.some((z,ne)=>Bt(z,x[ne])):Bt(B,x)))&&(g&&g(),be(e,a,3,[B,x===Jt?void 0:h&&x[0]===Jt?[]:x,E]),x=B)}else k.run()};S.allowRecurse=!!e;let W;s==="sync"?W=S:s==="post"?W=()=>le(S,a&&a.suspense):(S.pre=!0,a&&(S.id=a.uid),W=()=>Mr(S));const k=new ur(c,W);e?n?S():x=k.run():s==="post"?le(k.run.bind(k),a&&a.suspense):k.run();const ae=()=>{k.stop(),a&&a.scope&&ar(a.scope.effects,k)};return C&&C.push(ae),ae}function sa(t,e,n){const r=this.proxy,s=Z(t)?t.includes(".")?ei(r,t):()=>r[t]:t.bind(r,r);let i;D(e)?i=e:(i=e.handler,n=e);const o=Q;bt(this);const a=Zs(s,i.bind(r),n);return o?bt(o):rt(),a}function ei(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function tt(t,e){if(!Y(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),te(t))tt(t.value,e);else if(R(t))for(let n=0;n<t.length;n++)tt(t[n],e);else if(dn(t)||dt(t))t.forEach(n=>{tt(n,e)});else if(Cs(t))for(const n in t)tt(t[n],e);return t}function ia(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Er(()=>{t.isMounted=!0}),si(()=>{t.isUnmounting=!0}),t}const me=[Function,Array],oa={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:me,onEnter:me,onAfterEnter:me,onEnterCancelled:me,onBeforeLeave:me,onLeave:me,onAfterLeave:me,onLeaveCancelled:me,onBeforeAppear:me,onAppear:me,onAfterAppear:me,onAppearCancelled:me},setup(t,{slots:e}){const n=Ya(),r=ia();let s;return()=>{const i=e.default&&ni(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const S of i)if(S.type!==Ae){o=S;break}}const a=H(t),{mode:c}=a;if(r.isLeaving)return On(o);const f=Yr(o);if(!f)return On(o);const h=zn(f,a,r,n);Kn(f,h);const g=n.subTree,E=g&&Yr(g);let C=!1;const{getTransitionKey:x}=f.type;if(x){const S=x();s===void 0?s=S:S!==s&&(s=S,C=!0)}if(E&&E.type!==Ae&&(!Ze(f,E)||C)){const S=zn(E,a,r,n);if(Kn(E,S),c==="out-in")return r.isLeaving=!0,S.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},On(o);c==="in-out"&&f.type!==Ae&&(S.delayLeave=(W,k,ae)=>{const B=ti(r,E);B[String(E.key)]=E,W._leaveCb=()=>{k(),W._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=ae})}return o}}},aa=oa;function ti(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function zn(t,e,n,r){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:f,onEnterCancelled:h,onBeforeLeave:g,onLeave:E,onAfterLeave:C,onLeaveCancelled:x,onBeforeAppear:S,onAppear:W,onAfterAppear:k,onAppearCancelled:ae}=e,B=String(t.key),z=ti(n,t),ne=(L,ee)=>{L&&be(L,r,9,ee)},ot=(L,ee)=>{const q=ee[1];ne(L,ee),R(L)?L.every(fe=>fe.length<=1)&&q():L.length<=1&&q()},Fe={mode:i,persisted:o,beforeEnter(L){let ee=a;if(!n.isMounted)if(s)ee=S||a;else return;L._leaveCb&&L._leaveCb(!0);const q=z[B];q&&Ze(t,q)&&q.el._leaveCb&&q.el._leaveCb(),ne(ee,[L])},enter(L){let ee=c,q=f,fe=h;if(!n.isMounted)if(s)ee=W||c,q=k||f,fe=ae||h;else return;let we=!1;const xe=L._enterCb=Pt=>{we||(we=!0,Pt?ne(fe,[L]):ne(q,[L]),Fe.delayedLeave&&Fe.delayedLeave(),L._enterCb=void 0)};ee?ot(ee,[L,xe]):xe()},leave(L,ee){const q=String(t.key);if(L._enterCb&&L._enterCb(!0),n.isUnmounting)return ee();ne(g,[L]);let fe=!1;const we=L._leaveCb=xe=>{fe||(fe=!0,ee(),xe?ne(x,[L]):ne(C,[L]),L._leaveCb=void 0,z[q]===t&&delete z[q])};z[q]=t,E?ot(E,[L,we]):we()},clone(L){return zn(L,e,n,r)}};return Fe}function On(t){if(Mn(t))return t=$e(t),t.children=null,t}function Yr(t){return Mn(t)?t.children?t.children[0]:void 0:t}function Kn(t,e){t.shapeFlag&6&&t.component?Kn(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ni(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===he?(o.patchFlag&128&&s++,r=r.concat(ni(o.children,e,a))):(e||o.type!==Ae)&&r.push(a!=null?$e(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function la(t){return D(t)?{setup:t,name:t.name}:t}const en=t=>!!t.type.__asyncLoader,Mn=t=>t.type.__isKeepAlive;function ca(t,e){ri(t,"a",e)}function ua(t,e){ri(t,"da",e)}function ri(t,e,n=Q){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(En(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Mn(s.parent.vnode)&&fa(r,e,n,s),s=s.parent}}function fa(t,e,n,r){const s=En(e,t,r,!0);ii(()=>{ar(r[e],s)},n)}function En(t,e,n=Q,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;yt(),bt(n);const a=be(e,n,t,o);return rt(),_t(),a});return r?s.unshift(i):s.push(i),i}}const Ue=t=>(e,n=Q)=>(!Ht||t==="sp")&&En(t,(...r)=>e(...r),n),da=Ue("bm"),Er=Ue("m"),ha=Ue("bu"),ma=Ue("u"),si=Ue("bum"),ii=Ue("um"),pa=Ue("sp"),ga=Ue("rtg"),ba=Ue("rtc");function Ma(t,e=Q){En("ec",t,e)}function Wr(t,e){const n=ge;if(n===null)return t;const r=Pn(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,c,f=K]=e[i];o&&(D(o)&&(o={mounted:o,updated:o}),o.deep&&tt(a),s.push({dir:o,instance:r,value:a,oldValue:void 0,arg:c,modifiers:f}))}return t}function We(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[r];c&&(yt(),be(c,n,8,[t.el,a,t,e]),_t())}}const Ea=Symbol();function qr(t,e,n,r){let s;const i=n&&n[r];if(R(t)||Z(t)){s=new Array(t.length);for(let o=0,a=t.length;o<a;o++)s[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,i&&i[o])}else if(Y(t))if(t[Symbol.iterator])s=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);s=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const f=o[a];s[a]=e(t[f],f,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}const Yn=t=>t?bi(t)?Pn(t)||t.proxy:Yn(t.parent):null,It=se(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Yn(t.parent),$root:t=>Yn(t.root),$emit:t=>t.emit,$options:t=>yr(t),$forceUpdate:t=>t.f||(t.f=()=>Mr(t.update)),$nextTick:t=>t.n||(t.n=Go.bind(t.proxy)),$watch:t=>sa.bind(t)}),Bn=(t,e)=>t!==K&&!t.__isScriptSetup&&F(t,e),ya={get({_:t},e){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:c}=t;let f;if(e[0]!=="$"){const C=o[e];if(C!==void 0)switch(C){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Bn(r,e))return o[e]=1,r[e];if(s!==K&&F(s,e))return o[e]=2,s[e];if((f=t.propsOptions[0])&&F(f,e))return o[e]=3,i[e];if(n!==K&&F(n,e))return o[e]=4,n[e];Wn&&(o[e]=0)}}const h=It[e];let g,E;if(h)return e==="$attrs"&&ue(t,"get",e),h(t);if((g=a.__cssModules)&&(g=g[e]))return g;if(n!==K&&F(n,e))return o[e]=4,n[e];if(E=c.config.globalProperties,F(E,e))return E[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Bn(s,e)?(s[e]=n,!0):r!==K&&F(r,e)?(r[e]=n,!0):F(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==K&&F(t,o)||Bn(e,o)||(a=i[0])&&F(a,o)||F(r,o)||F(It,o)||F(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:F(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let Wn=!0;function _a(t){const e=yr(t),n=t.proxy,r=t.ctx;Wn=!1,e.beforeCreate&&Jr(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:f,created:h,beforeMount:g,mounted:E,beforeUpdate:C,updated:x,activated:S,deactivated:W,beforeDestroy:k,beforeUnmount:ae,destroyed:B,unmounted:z,render:ne,renderTracked:ot,renderTriggered:Fe,errorCaptured:L,serverPrefetch:ee,expose:q,inheritAttrs:fe,components:we,directives:xe,filters:Pt}=e;if(f&&Pa(f,r,null,t.appContext.config.unwrapInjectedRef),o)for(const J in o){const G=o[J];D(G)&&(r[J]=G.bind(n))}if(s){const J=s.call(n,n);Y(J)&&(t.data=mr(J))}if(Wn=!0,i)for(const J in i){const G=i[J],Ke=D(G)?G.bind(n,n):D(G.get)?G.get.bind(n,n):Ne,Vt=!D(G)&&D(G.set)?G.set.bind(n):Ne,Ye=Za({get:Ke,set:Vt});Object.defineProperty(r,J,{enumerable:!0,configurable:!0,get:()=>Ye.value,set:Se=>Ye.value=Se})}if(a)for(const J in a)oi(a[J],r,n,J);if(c){const J=D(c)?c.call(n):c;Reflect.ownKeys(J).forEach(G=>{ra(G,J[G])})}h&&Jr(h,t,"c");function ie(J,G){R(G)?G.forEach(Ke=>J(Ke.bind(n))):G&&J(G.bind(n))}if(ie(da,g),ie(Er,E),ie(ha,C),ie(ma,x),ie(ca,S),ie(ua,W),ie(Ma,L),ie(ba,ot),ie(ga,Fe),ie(si,ae),ie(ii,z),ie(pa,ee),R(q))if(q.length){const J=t.exposed||(t.exposed={});q.forEach(G=>{Object.defineProperty(J,G,{get:()=>n[G],set:Ke=>n[G]=Ke})})}else t.exposed||(t.exposed={});ne&&t.render===Ne&&(t.render=ne),fe!=null&&(t.inheritAttrs=fe),we&&(t.components=we),xe&&(t.directives=xe)}function Pa(t,e,n=Ne,r=!1){R(t)&&(t=qn(t));for(const s in t){const i=t[s];let o;Y(i)?"default"in i?o=Zt(i.from||s,i.default,!0):o=Zt(i.from||s):o=Zt(i),te(o)&&r?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[s]=o}}function Jr(t,e,n){be(R(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function oi(t,e,n,r){const s=r.includes(".")?ei(n,r):()=>n[r];if(Z(t)){const i=e[t];D(i)&&Ct(s,i)}else if(D(t))Ct(s,t.bind(n));else if(Y(t))if(R(t))t.forEach(i=>oi(i,e,n,r));else{const i=D(t.handler)?t.handler.bind(n):e[t.handler];D(i)&&Ct(s,i,t)}}function yr(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(f=>an(c,f,o,!0)),an(c,e,o)),Y(e)&&i.set(e,c),c}function an(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&an(t,i,n,!0),s&&s.forEach(o=>an(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=Na[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Na={data:Xr,props:Je,emits:Je,methods:Je,computed:Je,beforeCreate:oe,created:oe,beforeMount:oe,mounted:oe,beforeUpdate:oe,updated:oe,beforeDestroy:oe,beforeUnmount:oe,destroyed:oe,unmounted:oe,activated:oe,deactivated:oe,errorCaptured:oe,serverPrefetch:oe,components:Je,directives:Je,watch:wa,provide:Xr,inject:Aa};function Xr(t,e){return e?t?function(){return se(D(t)?t.call(this,this):t,D(e)?e.call(this,this):e)}:e:t}function Aa(t,e){return Je(qn(t),qn(e))}function qn(t){if(R(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function oe(t,e){return t?[...new Set([].concat(t,e))]:e}function Je(t,e){return t?se(se(Object.create(null),t),e):e}function wa(t,e){if(!t)return e;if(!e)return t;const n=se(Object.create(null),t);for(const r in e)n[r]=oe(t[r],e[r]);return n}function Sa(t,e,n,r=!1){const s={},i={};rn(i,_n,1),t.propsDefaults=Object.create(null),ai(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Do(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function va(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=H(s),[c]=t.propsOptions;let f=!1;if((r||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let g=0;g<h.length;g++){let E=h[g];if(gn(t.emitsOptions,E))continue;const C=e[E];if(c)if(F(i,E))C!==i[E]&&(i[E]=C,f=!0);else{const x=pt(E);s[x]=Jn(c,a,x,C,t,!1)}else C!==i[E]&&(i[E]=C,f=!0)}}}else{ai(t,e,s,i)&&(f=!0);let h;for(const g in a)(!e||!F(e,g)&&((h=Et(g))===g||!F(e,h)))&&(c?n&&(n[g]!==void 0||n[h]!==void 0)&&(s[g]=Jn(c,a,g,void 0,t,!0)):delete s[g]);if(i!==a)for(const g in i)(!e||!F(e,g))&&(delete i[g],f=!0)}f&&Le(t,"set","$attrs")}function ai(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Xt(c))continue;const f=e[c];let h;s&&F(s,h=pt(c))?!i||!i.includes(h)?n[h]=f:(a||(a={}))[h]=f:gn(t.emitsOptions,c)||(!(c in r)||f!==r[c])&&(r[c]=f,o=!0)}if(i){const c=H(n),f=a||K;for(let h=0;h<i.length;h++){const g=i[h];n[g]=Jn(s,c,g,f[g],t,!F(f,g))}}return o}function Jn(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=F(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&D(c)){const{propsDefaults:f}=s;n in f?r=f[n]:(bt(s),r=f[n]=c.call(null,e),rt())}else r=c}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Et(n))&&(r=!0))}return r}function li(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let c=!1;if(!D(t)){const h=g=>{c=!0;const[E,C]=li(g,e,!0);se(o,E),C&&a.push(...C)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!c)return Y(t)&&r.set(t,ft),ft;if(R(i))for(let h=0;h<i.length;h++){const g=pt(i[h]);Qr(g)&&(o[g]=K)}else if(i)for(const h in i){const g=pt(h);if(Qr(g)){const E=i[h],C=o[g]=R(E)||D(E)?{type:E}:Object.assign({},E);if(C){const x=ts(Boolean,C.type),S=ts(String,C.type);C[0]=x>-1,C[1]=S<0||x<S,(x>-1||F(C,"default"))&&a.push(g)}}}const f=[o,a];return Y(t)&&r.set(t,f),f}function Qr(t){return t[0]!=="$"}function Zr(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function es(t,e){return Zr(t)===Zr(e)}function ts(t,e){return R(e)?e.findIndex(n=>es(n,t)):D(e)&&es(e,t)?0:-1}const ci=t=>t[0]==="_"||t==="$stable",_r=t=>R(t)?t.map(Ie):[Ie(t)],Ca=(t,e,n)=>{if(e._n)return e;const r=Jo((...s)=>_r(e(...s)),n);return r._c=!1,r},ui=(t,e,n)=>{const r=t._ctx;for(const s in t){if(ci(s))continue;const i=t[s];if(D(i))e[s]=Ca(s,i,r);else if(i!=null){const o=_r(i);e[s]=()=>o}}},fi=(t,e)=>{const n=_r(e);t.slots.default=()=>n},Ia=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=H(e),rn(e,"_",n)):ui(e,t.slots={})}else t.slots={},e&&fi(t,e);rn(t.slots,_n,1)},Ta=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=K;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(se(s,e),!n&&a===1&&delete s._):(i=!e.$stable,ui(e,s)),o=e}else e&&(fi(t,e),o={default:1});if(i)for(const a in s)!ci(a)&&!(a in o)&&delete s[a]};function di(){return{app:null,config:{isNativeTag:Qi,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ra=0;function xa(t,e){return function(r,s=null){D(r)||(r=Object.assign({},r)),s!=null&&!Y(s)&&(s=null);const i=di(),o=new Set;let a=!1;const c=i.app={_uid:Ra++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:nl,get config(){return i.config},set config(f){},use(f,...h){return o.has(f)||(f&&D(f.install)?(o.add(f),f.install(c,...h)):D(f)&&(o.add(f),f(c,...h))),c},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),c},component(f,h){return h?(i.components[f]=h,c):i.components[f]},directive(f,h){return h?(i.directives[f]=h,c):i.directives[f]},mount(f,h,g){if(!a){const E=De(r,s);return E.appContext=i,h&&e?e(E,f):t(E,f,g),a=!0,c._container=f,f.__vue_app__=c,Pn(E.component)||E.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(f,h){return i.provides[f]=h,c}};return c}}function Xn(t,e,n,r,s=!1){if(R(t)){t.forEach((E,C)=>Xn(E,e&&(R(e)?e[C]:e),n,r,s));return}if(en(r)&&!s)return;const i=r.shapeFlag&4?Pn(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:c}=t,f=e&&e.r,h=a.refs===K?a.refs={}:a.refs,g=a.setupState;if(f!=null&&f!==c&&(Z(f)?(h[f]=null,F(g,f)&&(g[f]=null)):te(f)&&(f.value=null)),D(c))Ge(c,a,12,[o,h]);else{const E=Z(c),C=te(c);if(E||C){const x=()=>{if(t.f){const S=E?F(g,c)?g[c]:h[c]:c.value;s?R(S)&&ar(S,i):R(S)?S.includes(i)||S.push(i):E?(h[c]=[i],F(g,c)&&(g[c]=h[c])):(c.value=[i],t.k&&(h[t.k]=c.value))}else E?(h[c]=o,F(g,c)&&(g[c]=o)):C&&(c.value=o,t.k&&(h[t.k]=o))};o?(x.id=-1,le(x,n)):x()}}}const le=na;function Oa(t){return Ba(t)}function Ba(t,e){const n=so();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:f,setElementText:h,parentNode:g,nextSibling:E,setScopeId:C=Ne,insertStaticContent:x}=t,S=(l,u,d,b=null,p=null,N=null,w=!1,_=null,A=!!u.dynamicChildren)=>{if(l===u)return;l&&!Ze(l,u)&&(b=$t(l),Se(l,p,N,!0),l=null),u.patchFlag===-2&&(A=!1,u.dynamicChildren=null);const{type:M,ref:I,shapeFlag:v}=u;switch(M){case yn:W(l,u,d,b);break;case Ae:k(l,u,d,b);break;case Dn:l==null&&ae(u,d,b,w);break;case he:we(l,u,d,b,p,N,w,_,A);break;default:v&1?ne(l,u,d,b,p,N,w,_,A):v&6?xe(l,u,d,b,p,N,w,_,A):(v&64||v&128)&&M.process(l,u,d,b,p,N,w,_,A,at)}I!=null&&p&&Xn(I,l&&l.ref,N,u||l,!u)},W=(l,u,d,b)=>{if(l==null)r(u.el=a(u.children),d,b);else{const p=u.el=l.el;u.children!==l.children&&f(p,u.children)}},k=(l,u,d,b)=>{l==null?r(u.el=c(u.children||""),d,b):u.el=l.el},ae=(l,u,d,b)=>{[l.el,l.anchor]=x(l.children,u,d,b,l.el,l.anchor)},B=({el:l,anchor:u},d,b)=>{let p;for(;l&&l!==u;)p=E(l),r(l,d,b),l=p;r(u,d,b)},z=({el:l,anchor:u})=>{let d;for(;l&&l!==u;)d=E(l),s(l),l=d;s(u)},ne=(l,u,d,b,p,N,w,_,A)=>{w=w||u.type==="svg",l==null?ot(u,d,b,p,N,w,_,A):ee(l,u,p,N,w,_,A)},ot=(l,u,d,b,p,N,w,_)=>{let A,M;const{type:I,props:v,shapeFlag:T,transition:O,dirs:U}=l;if(A=l.el=o(l.type,N,v&&v.is,v),T&8?h(A,l.children):T&16&&L(l.children,A,null,b,p,N&&I!=="foreignObject",w,_),U&&We(l,null,b,"created"),Fe(A,l,l.scopeId,w,b),v){for(const j in v)j!=="value"&&!Xt(j)&&i(A,j,null,v[j],N,l.children,b,p,Oe);"value"in v&&i(A,"value",null,v.value),(M=v.onVnodeBeforeMount)&&Ce(M,b,l)}U&&We(l,null,b,"beforeMount");const V=(!p||p&&!p.pendingBranch)&&O&&!O.persisted;V&&O.beforeEnter(A),r(A,u,d),((M=v&&v.onVnodeMounted)||V||U)&&le(()=>{M&&Ce(M,b,l),V&&O.enter(A),U&&We(l,null,b,"mounted")},p)},Fe=(l,u,d,b,p)=>{if(d&&C(l,d),b)for(let N=0;N<b.length;N++)C(l,b[N]);if(p){let N=p.subTree;if(u===N){const w=p.vnode;Fe(l,w,w.scopeId,w.slotScopeIds,p.parent)}}},L=(l,u,d,b,p,N,w,_,A=0)=>{for(let M=A;M<l.length;M++){const I=l[M]=_?ke(l[M]):Ie(l[M]);S(null,I,u,d,b,p,N,w,_)}},ee=(l,u,d,b,p,N,w)=>{const _=u.el=l.el;let{patchFlag:A,dynamicChildren:M,dirs:I}=u;A|=l.patchFlag&16;const v=l.props||K,T=u.props||K;let O;d&&qe(d,!1),(O=T.onVnodeBeforeUpdate)&&Ce(O,d,u,l),I&&We(u,l,d,"beforeUpdate"),d&&qe(d,!0);const U=p&&u.type!=="foreignObject";if(M?q(l.dynamicChildren,M,_,d,b,U,N):w||G(l,u,_,null,d,b,U,N,!1),A>0){if(A&16)fe(_,u,v,T,d,b,p);else if(A&2&&v.class!==T.class&&i(_,"class",null,T.class,p),A&4&&i(_,"style",v.style,T.style,p),A&8){const V=u.dynamicProps;for(let j=0;j<V.length;j++){const X=V[j],Me=v[X],lt=T[X];(lt!==Me||X==="value")&&i(_,X,Me,lt,p,l.children,d,b,Oe)}}A&1&&l.children!==u.children&&h(_,u.children)}else!w&&M==null&&fe(_,u,v,T,d,b,p);((O=T.onVnodeUpdated)||I)&&le(()=>{O&&Ce(O,d,u,l),I&&We(u,l,d,"updated")},b)},q=(l,u,d,b,p,N,w)=>{for(let _=0;_<u.length;_++){const A=l[_],M=u[_],I=A.el&&(A.type===he||!Ze(A,M)||A.shapeFlag&70)?g(A.el):d;S(A,M,I,null,b,p,N,w,!0)}},fe=(l,u,d,b,p,N,w)=>{if(d!==b){if(d!==K)for(const _ in d)!Xt(_)&&!(_ in b)&&i(l,_,d[_],null,w,u.children,p,N,Oe);for(const _ in b){if(Xt(_))continue;const A=b[_],M=d[_];A!==M&&_!=="value"&&i(l,_,M,A,w,u.children,p,N,Oe)}"value"in b&&i(l,"value",d.value,b.value)}},we=(l,u,d,b,p,N,w,_,A)=>{const M=u.el=l?l.el:a(""),I=u.anchor=l?l.anchor:a("");let{patchFlag:v,dynamicChildren:T,slotScopeIds:O}=u;O&&(_=_?_.concat(O):O),l==null?(r(M,d,b),r(I,d,b),L(u.children,d,I,p,N,w,_,A)):v>0&&v&64&&T&&l.dynamicChildren?(q(l.dynamicChildren,T,d,p,N,w,_),(u.key!=null||p&&u===p.subTree)&&hi(l,u,!0)):G(l,u,d,I,p,N,w,_,A)},xe=(l,u,d,b,p,N,w,_,A)=>{u.slotScopeIds=_,l==null?u.shapeFlag&512?p.ctx.activate(u,d,b,w,A):Pt(u,d,b,p,N,w,A):Tr(l,u,A)},Pt=(l,u,d,b,p,N,w)=>{const _=l.component=Ka(l,b,p);if(Mn(l)&&(_.ctx.renderer=at),Wa(_),_.asyncDep){if(p&&p.registerDep(_,ie),!l.el){const A=_.subTree=De(Ae);k(null,A,u,d)}return}ie(_,l,u,d,p,N,w)},Tr=(l,u,d)=>{const b=u.component=l.component;if(Zo(l,u,d))if(b.asyncDep&&!b.asyncResolved){J(b,u,d);return}else b.next=u,$o(b.update),b.update();else u.el=l.el,b.vnode=u},ie=(l,u,d,b,p,N,w)=>{const _=()=>{if(l.isMounted){let{next:I,bu:v,u:T,parent:O,vnode:U}=l,V=I,j;qe(l,!1),I?(I.el=U.el,J(l,I,w)):I=U,v&&Qt(v),(j=I.props&&I.props.onVnodeBeforeUpdate)&&Ce(j,O,I,U),qe(l,!0);const X=xn(l),Me=l.subTree;l.subTree=X,S(Me,X,g(Me.el),$t(Me),l,p,N),I.el=X.el,V===null&&ea(l,X.el),T&&le(T,p),(j=I.props&&I.props.onVnodeUpdated)&&le(()=>Ce(j,O,I,U),p)}else{let I;const{el:v,props:T}=u,{bm:O,m:U,parent:V}=l,j=en(u);if(qe(l,!1),O&&Qt(O),!j&&(I=T&&T.onVnodeBeforeMount)&&Ce(I,V,u),qe(l,!0),v&&In){const X=()=>{l.subTree=xn(l),In(v,l.subTree,l,p,null)};j?u.type.__asyncLoader().then(()=>!l.isUnmounted&&X()):X()}else{const X=l.subTree=xn(l);S(null,X,d,b,l,p,N),u.el=X.el}if(U&&le(U,p),!j&&(I=T&&T.onVnodeMounted)){const X=u;le(()=>Ce(I,V,X),p)}(u.shapeFlag&256||V&&en(V.vnode)&&V.vnode.shapeFlag&256)&&l.a&&le(l.a,p),l.isMounted=!0,u=d=b=null}},A=l.effect=new ur(_,()=>Mr(M),l.scope),M=l.update=()=>A.run();M.id=l.uid,qe(l,!0),M()},J=(l,u,d)=>{u.component=l;const b=l.vnode.props;l.vnode=u,l.next=null,va(l,u.props,b,d),Ta(l,u.children,d),yt(),zr(),_t()},G=(l,u,d,b,p,N,w,_,A=!1)=>{const M=l&&l.children,I=l?l.shapeFlag:0,v=u.children,{patchFlag:T,shapeFlag:O}=u;if(T>0){if(T&128){Vt(M,v,d,b,p,N,w,_,A);return}else if(T&256){Ke(M,v,d,b,p,N,w,_,A);return}}O&8?(I&16&&Oe(M,p,N),v!==M&&h(d,v)):I&16?O&16?Vt(M,v,d,b,p,N,w,_,A):Oe(M,p,N,!0):(I&8&&h(d,""),O&16&&L(v,d,b,p,N,w,_,A))},Ke=(l,u,d,b,p,N,w,_,A)=>{l=l||ft,u=u||ft;const M=l.length,I=u.length,v=Math.min(M,I);let T;for(T=0;T<v;T++){const O=u[T]=A?ke(u[T]):Ie(u[T]);S(l[T],O,d,null,p,N,w,_,A)}M>I?Oe(l,p,N,!0,!1,v):L(u,d,b,p,N,w,_,A,v)},Vt=(l,u,d,b,p,N,w,_,A)=>{let M=0;const I=u.length;let v=l.length-1,T=I-1;for(;M<=v&&M<=T;){const O=l[M],U=u[M]=A?ke(u[M]):Ie(u[M]);if(Ze(O,U))S(O,U,d,null,p,N,w,_,A);else break;M++}for(;M<=v&&M<=T;){const O=l[v],U=u[T]=A?ke(u[T]):Ie(u[T]);if(Ze(O,U))S(O,U,d,null,p,N,w,_,A);else break;v--,T--}if(M>v){if(M<=T){const O=T+1,U=O<I?u[O].el:b;for(;M<=T;)S(null,u[M]=A?ke(u[M]):Ie(u[M]),d,U,p,N,w,_,A),M++}}else if(M>T)for(;M<=v;)Se(l[M],p,N,!0),M++;else{const O=M,U=M,V=new Map;for(M=U;M<=T;M++){const de=u[M]=A?ke(u[M]):Ie(u[M]);de.key!=null&&V.set(de.key,M)}let j,X=0;const Me=T-U+1;let lt=!1,Or=0;const Nt=new Array(Me);for(M=0;M<Me;M++)Nt[M]=0;for(M=O;M<=v;M++){const de=l[M];if(X>=Me){Se(de,p,N,!0);continue}let ve;if(de.key!=null)ve=V.get(de.key);else for(j=U;j<=T;j++)if(Nt[j-U]===0&&Ze(de,u[j])){ve=j;break}ve===void 0?Se(de,p,N,!0):(Nt[ve-U]=M+1,ve>=Or?Or=ve:lt=!0,S(de,u[ve],d,null,p,N,w,_,A),X++)}const Br=lt?Da(Nt):ft;for(j=Br.length-1,M=Me-1;M>=0;M--){const de=U+M,ve=u[de],Dr=de+1<I?u[de+1].el:b;Nt[M]===0?S(null,ve,d,Dr,p,N,w,_,A):lt&&(j<0||M!==Br[j]?Ye(ve,d,Dr,2):j--)}}},Ye=(l,u,d,b,p=null)=>{const{el:N,type:w,transition:_,children:A,shapeFlag:M}=l;if(M&6){Ye(l.component.subTree,u,d,b);return}if(M&128){l.suspense.move(u,d,b);return}if(M&64){w.move(l,u,d,at);return}if(w===he){r(N,u,d);for(let v=0;v<A.length;v++)Ye(A[v],u,d,b);r(l.anchor,u,d);return}if(w===Dn){B(l,u,d);return}if(b!==2&&M&1&&_)if(b===0)_.beforeEnter(N),r(N,u,d),le(()=>_.enter(N),p);else{const{leave:v,delayLeave:T,afterLeave:O}=_,U=()=>r(N,u,d),V=()=>{v(N,()=>{U(),O&&O()})};T?T(N,U,V):V()}else r(N,u,d)},Se=(l,u,d,b=!1,p=!1)=>{const{type:N,props:w,ref:_,children:A,dynamicChildren:M,shapeFlag:I,patchFlag:v,dirs:T}=l;if(_!=null&&Xn(_,null,d,l,!0),I&256){u.ctx.deactivate(l);return}const O=I&1&&T,U=!en(l);let V;if(U&&(V=w&&w.onVnodeBeforeUnmount)&&Ce(V,u,l),I&6)Vi(l.component,d,b);else{if(I&128){l.suspense.unmount(d,b);return}O&&We(l,null,u,"beforeUnmount"),I&64?l.type.remove(l,u,d,p,at,b):M&&(N!==he||v>0&&v&64)?Oe(M,u,d,!1,!0):(N===he&&v&384||!p&&I&16)&&Oe(A,u,d),b&&Rr(l)}(U&&(V=w&&w.onVnodeUnmounted)||O)&&le(()=>{V&&Ce(V,u,l),O&&We(l,null,u,"unmounted")},d)},Rr=l=>{const{type:u,el:d,anchor:b,transition:p}=l;if(u===he){Gi(d,b);return}if(u===Dn){z(l);return}const N=()=>{s(d),p&&!p.persisted&&p.afterLeave&&p.afterLeave()};if(l.shapeFlag&1&&p&&!p.persisted){const{leave:w,delayLeave:_}=p,A=()=>w(d,N);_?_(l.el,N,A):A()}else N()},Gi=(l,u)=>{let d;for(;l!==u;)d=E(l),s(l),l=d;s(u)},Vi=(l,u,d)=>{const{bum:b,scope:p,update:N,subTree:w,um:_}=l;b&&Qt(b),p.stop(),N&&(N.active=!1,Se(w,l,u,d)),_&&le(_,u),le(()=>{l.isUnmounted=!0},u),u&&u.pendingBranch&&!u.isUnmounted&&l.asyncDep&&!l.asyncResolved&&l.suspenseId===u.pendingId&&(u.deps--,u.deps===0&&u.resolve())},Oe=(l,u,d,b=!1,p=!1,N=0)=>{for(let w=N;w<l.length;w++)Se(l[w],u,d,b,p)},$t=l=>l.shapeFlag&6?$t(l.component.subTree):l.shapeFlag&128?l.suspense.next():E(l.anchor||l.el),xr=(l,u,d)=>{l==null?u._vnode&&Se(u._vnode,null,null,!0):S(u._vnode||null,l,u,null,null,null,d),zr(),Js(),u._vnode=l},at={p:S,um:Se,m:Ye,r:Rr,mt:Pt,mc:L,pc:G,pbc:q,n:$t,o:t};let Cn,In;return e&&([Cn,In]=e(at)),{render:xr,hydrate:Cn,createApp:xa(xr,Cn)}}function qe({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function hi(t,e,n=!1){const r=t.children,s=e.children;if(R(r)&&R(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=ke(s[i]),a.el=o.el),n||hi(o,a)),a.type===yn&&(a.el=o.el)}}function Da(t){const e=t.slice(),n=[0];let r,s,i,o,a;const c=t.length;for(r=0;r<c;r++){const f=t[r];if(f!==0){if(s=n[n.length-1],t[s]<f){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<f?i=a+1:o=a;f<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const La=t=>t.__isTeleport,he=Symbol(void 0),yn=Symbol(void 0),Ae=Symbol(void 0),Dn=Symbol(void 0),Tt=[];let _e=null;function Xe(t=!1){Tt.push(_e=t?null:[])}function Ua(){Tt.pop(),_e=Tt[Tt.length-1]||null}let Ft=1;function ns(t){Ft+=t}function mi(t){return t.dynamicChildren=Ft>0?_e||ft:null,Ua(),Ft>0&&_e&&_e.push(t),t}function ct(t,e,n,r,s,i){return mi(ce(t,e,n,r,s,i,!0))}function Fa(t,e,n,r,s){return mi(De(t,e,n,r,s,!0))}function Ha(t){return t?t.__v_isVNode===!0:!1}function Ze(t,e){return t.type===e.type&&t.key===e.key}const _n="__vInternal",pi=({key:t})=>t??null,tn=({ref:t,ref_key:e,ref_for:n})=>t!=null?Z(t)||te(t)||D(t)?{i:ge,r:t,k:e,f:!!n}:t:null;function ce(t,e=null,n=null,r=0,s=null,i=t===he?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&pi(e),ref:e&&tn(e),scopeId:bn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ge};return a?(Pr(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=Z(n)?8:16),Ft>0&&!o&&_e&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&_e.push(c),c}const De=ka;function ka(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Ea)&&(t=Ae),Ha(t)){const a=$e(t,e,!0);return n&&Pr(a,n),Ft>0&&!i&&_e&&(a.shapeFlag&6?_e[_e.indexOf(t)]=a:_e.push(a)),a.patchFlag|=-2,a}if(Qa(t)&&(t=t.__vccOpts),e){e=ja(e);let{class:a,style:c}=e;a&&!Z(a)&&(e.class=ir(a)),Y(c)&&(Gs(c)&&!R(c)&&(c=se({},c)),e.style=sr(c))}const o=Z(t)?1:ta(t)?128:La(t)?64:Y(t)?4:D(t)?2:0;return ce(t,e,n,r,s,o,i,!0)}function ja(t){return t?Gs(t)||_n in t?se({},t):t:null}function $e(t,e,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=t,a=e?Va(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&pi(a),ref:e&&e.ref?n&&s?R(s)?s.concat(tn(e)):[s,tn(e)]:tn(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==he?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&$e(t.ssContent),ssFallback:t.ssFallback&&$e(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function gi(t=" ",e=0){return De(yn,null,t,e)}function Ga(t="",e=!1){return e?(Xe(),Fa(Ae,null,t)):De(Ae,null,t)}function Ie(t){return t==null||typeof t=="boolean"?De(Ae):R(t)?De(he,null,t.slice()):typeof t=="object"?ke(t):De(yn,null,String(t))}function ke(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:$e(t)}function Pr(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(R(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Pr(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(_n in e)?e._ctx=ge:s===3&&ge&&(ge.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else D(e)?(e={default:e,_ctx:ge},n=32):(e=String(e),r&64?(n=16,e=[gi(e)]):n=8);t.children=e,t.shapeFlag|=n}function Va(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=ir([e.class,r.class]));else if(s==="style")e.style=sr([e.style,r.style]);else if(fn(s)){const i=e[s],o=r[s];o&&i!==o&&!(R(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Ce(t,e,n,r=null){be(t,e,7,[n,r])}const $a=di();let za=0;function Ka(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||$a,i={uid:za++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new io(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:li(r,s),emitsOptions:Qs(r,s),emit:null,emitted:null,propsDefaults:K,inheritAttrs:r.inheritAttrs,ctx:K,data:K,props:K,attrs:K,slots:K,refs:K,setupState:K,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Yo.bind(null,i),t.ce&&t.ce(i),i}let Q=null;const Ya=()=>Q||ge,bt=t=>{Q=t,t.scope.on()},rt=()=>{Q&&Q.scope.off(),Q=null};function bi(t){return t.vnode.shapeFlag&4}let Ht=!1;function Wa(t,e=!1){Ht=e;const{props:n,children:r}=t.vnode,s=bi(t);Sa(t,n,s,e),Ia(t,r);const i=s?qa(t,e):void 0;return Ht=!1,i}function qa(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Vs(new Proxy(t.ctx,ya));const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?Xa(t):null;bt(t),yt();const i=Ge(r,t,0,[t.props,s]);if(_t(),rt(),Ss(i)){if(i.then(rt,rt),e)return i.then(o=>{rs(t,o,e)}).catch(o=>{pn(o,t,0)});t.asyncDep=i}else rs(t,i,e)}else Mi(t,e)}function rs(t,e,n){D(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Y(e)&&(t.setupState=Ks(e)),Mi(t,n)}let ss;function Mi(t,e,n){const r=t.type;if(!t.render){if(!e&&ss&&!r.render){const s=r.template||yr(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=r,f=se(se({isCustomElement:i,delimiters:a},o),c);r.render=ss(s,f)}}t.render=r.render||Ne}bt(t),yt(),_a(t),_t(),rt()}function Ja(t){return new Proxy(t.attrs,{get(e,n){return ue(t,"get","$attrs"),e[n]}})}function Xa(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=Ja(t))},slots:t.slots,emit:t.emit,expose:e}}function Pn(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Ks(Vs(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in It)return It[n](t)},has(e,n){return n in e||n in It}}))}function Qa(t){return D(t)&&"__vccOpts"in t}const Za=(t,e)=>ko(t,e,Ht),el=Symbol(""),tl=()=>Zt(el),nl="3.2.47",rl="http://www.w3.org/2000/svg",et=typeof document<"u"?document:null,is=et&&et.createElement("template"),sl={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e?et.createElementNS(rl,t):et.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>et.createTextNode(t),createComment:t=>et.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>et.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{is.innerHTML=r?`<svg>${t}</svg>`:t;const a=is.content;if(r){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function il(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function ol(t,e,n){const r=t.style,s=Z(n);if(n&&!s){if(e&&!Z(e))for(const i in e)n[i]==null&&Qn(r,i,"");for(const i in n)Qn(r,i,n[i])}else{const i=r.display;s?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=i)}}const os=/\s*!important$/;function Qn(t,e,n){if(R(n))n.forEach(r=>Qn(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=al(t,e);os.test(n)?t.setProperty(Et(r),n.replace(os,""),"important"):t[r]=n}}const as=["Webkit","Moz","ms"],Ln={};function al(t,e){const n=Ln[e];if(n)return n;let r=pt(e);if(r!=="filter"&&r in t)return Ln[e]=r;r=Is(r);for(let s=0;s<as.length;s++){const i=as[s]+r;if(i in t)return Ln[e]=i}return e}const ls="http://www.w3.org/1999/xlink";function ll(t,e,n,r,s){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(ls,e.slice(6,e.length)):t.setAttributeNS(ls,e,n);else{const i=qi(e);n==null||i&&!As(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function cl(t,e,n,r,s,i,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,s,i),t[e]=n??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const c=n??"";(t.value!==c||t.tagName==="OPTION")&&(t.value=c),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=As(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}function Ei(t,e,n,r){t.addEventListener(e,n,r)}function ul(t,e,n,r){t.removeEventListener(e,n,r)}function fl(t,e,n,r,s=null){const i=t._vei||(t._vei={}),o=i[e];if(r&&o)o.value=r;else{const[a,c]=dl(e);if(r){const f=i[e]=pl(r,s);Ei(t,a,f,c)}else o&&(ul(t,a,o,c),i[e]=void 0)}}const cs=/(?:Once|Passive|Capture)$/;function dl(t){let e;if(cs.test(t)){e={};let r;for(;r=t.match(cs);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Et(t.slice(2)),e]}let Un=0;const hl=Promise.resolve(),ml=()=>Un||(hl.then(()=>Un=0),Un=Date.now());function pl(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;be(gl(r,n.value),e,5,[r])};return n.value=t,n.attached=ml(),n}function gl(t,e){if(R(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const us=/^on[a-z]/,bl=(t,e,n,r,s=!1,i,o,a,c)=>{e==="class"?il(t,r,s):e==="style"?ol(t,n,r):fn(e)?or(e)||fl(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Ml(t,e,r,s))?cl(t,e,r,i,o,a,c):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),ll(t,e,r,s))};function Ml(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&us.test(e)&&D(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||us.test(e)&&Z(n)?!1:e in t}const El={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};aa.props;const fs=t=>{const e=t.props["onUpdate:modelValue"]||!1;return R(e)?n=>Qt(e,n):e},ds={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=dn(e);Ei(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Ts(ln(o)):ln(o));t._assign(t.multiple?s?new Set(i):i:i[0])}),t._assign=fs(r)},mounted(t,{value:e}){hs(t,e)},beforeUpdate(t,e,n){t._assign=fs(n)},updated(t,{value:e}){hs(t,e)}};function hs(t,e){const n=t.multiple;if(!(n&&!R(e)&&!dn(e))){for(let r=0,s=t.options.length;r<s;r++){const i=t.options[r],o=ln(i);if(n)R(e)?i.selected=Xi(e,o)>-1:i.selected=e.has(o);else if(un(ln(i),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ln(t){return"_value"in t?t._value:t.value}const yl=se({patchProp:bl},sl);let ms;function _l(){return ms||(ms=Oa(yl))}const Pl=(...t)=>{const e=_l().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=Nl(r);if(!s)return;const i=e._component;!D(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function Nl(t){return Z(t)?document.querySelector(t):t}var cn=(t,e)=>Array(Math.abs(e)+1).join(t);function yi(t,e,n){return function(...r){return console.warn(`${t} is deprecated. Use ${e}.`),n.apply(this,r)}}function _i(t){return t!==null&&typeof t=="object"&&typeof t.name=="string"}function Pi(t){return t!==null&&typeof t=="object"&&typeof t.step=="number"&&typeof t.alt=="number"}var Ni=[0,2,4,-1,1,3,5],Ai=Ni.map(t=>Math.floor(t*7/12));function wi(t){const{step:e,alt:n,oct:r,dir:s=1}=t,i=Ni[e]+7*n;if(r===void 0)return[s*i];const o=r-Ai[e]-4*n;return[s*i,s*o]}var Al=[3,0,4,1,5,2,6];function Si(t){const[e,n,r]=t,s=Al[wl(e)],i=Math.floor((e+1)/7);if(n===void 0)return{step:s,alt:i,dir:r};const o=n+4*i+Ai[s];return{step:s,alt:i,oct:o,dir:r}}function wl(t){const e=(t+1)%7;return e<0?7+e:e}var vi={empty:!0,name:"",pc:"",acc:""},ps=new Map,Sl=t=>"CDEFGAB".charAt(t),vl=t=>t<0?cn("b",-t):cn("#",t),Cl=t=>t[0]==="b"?-t.length:t.length;function $(t){const e=JSON.stringify(t),n=ps.get(e);if(n)return n;const r=typeof t=="string"?xl(t):Pi(t)?$(Ol(t)):_i(t)?$(t.name):vi;return ps.set(e,r),r}var Il=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Ci(t){const e=Il.exec(t);return[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]}function Tl(t){return $(Si(t))}var Rl=(t,e)=>(t%e+e)%e,Fn=[0,2,4,5,7,9,11];function xl(t){const e=Ci(t);if(e[0]===""||e[3]!=="")return vi;const n=e[0],r=e[1],s=e[2],i=(n.charCodeAt(0)+3)%7,o=Cl(r),a=s.length?+s:void 0,c=wi({step:i,alt:o,oct:a}),f=n+r+s,h=n+r,g=(Fn[i]+o+120)%12,E=a===void 0?Rl(Fn[i]+o,12)-12*99:Fn[i]+o+12*(a+1),C=E>=0&&E<=127?E:null,x=a===void 0?null:Math.pow(2,(E-69)/12)*440;return{empty:!1,acc:r,alt:o,chroma:g,coord:c,freq:x,height:E,letter:n,midi:C,name:f,oct:a,pc:h,step:i}}function Ol(t){const{step:e,alt:n,oct:r}=t,s=Sl(e);if(!s)return"";const i=s+vl(n);return r||r===0?i+r:i}var Zn={empty:!0,name:"",acc:""},Bl="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",Dl="(AA|A|P|M|m|d|dd)([-+]?\\d+)",Ll=new RegExp("^"+Bl+"|"+Dl+"$");function Ul(t){const e=Ll.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var gs={};function kt(t){return typeof t=="string"?gs[t]||(gs[t]=Fl(t)):Pi(t)?kt(jl(t)):_i(t)?kt(t.name):Zn}var bs=[0,2,4,5,7,9,11],Ii="PMMPPMM";function Fl(t){const e=Ul(t);if(e[0]==="")return Zn;const n=+e[0],r=e[1],s=(Math.abs(n)-1)%7,i=Ii[s];if(i==="M"&&r==="P")return Zn;const o=i==="M"?"majorable":"perfectable",a=""+n+r,c=n<0?-1:1,f=n===8||n===-8?n:c*(s+1),h=kl(o,r),g=Math.floor((Math.abs(n)-1)/7),E=c*(bs[s]+h+12*g),C=(c*(bs[s]+h)%12+12)%12,x=wi({step:s,alt:h,oct:g,dir:c});return{empty:!1,name:a,num:n,q:r,step:s,alt:h,dir:c,type:o,simple:f,semitones:E,chroma:C,coord:x,oct:g}}function Hl(t,e){const[n,r=0]=t,s=n*7+r*12<0,i=e||s?[-n,-r,-1]:[n,r,1];return kt(Si(i))}function kl(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function jl(t){const{step:e,alt:n,oct:r=0,dir:s}=t;if(!s)return"";const i=e+1+7*r,o=i===0?e+1:i,a=s<0?"-":"",c=Ii[e]==="M"?"majorable":"perfectable";return a+o+Gl(c,n)}function Gl(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?cn("A",e):cn("d",t==="perfectable"?e:e+1)}function Mt(t,e){const n=$(t),r=Array.isArray(e)?e:kt(e).coord;if(n.empty||!r||r.length<2)return"";const s=n.coord,i=s.length===1?[s[0]+r[0]]:[s[0]+r[0],s[1]+r[1]];return Tl(i).name}function Nn(t,e){const n=t.length;return r=>{if(!e)return"";const s=r<0?(n- -r%n)%n:r%n,i=Math.floor(r/n),o=Mt(e,[0,i]);return Mt(o,t[s])}}function Vl(t,e){const n=$(t),r=$(e);if(n.empty||r.empty)return"";const s=n.coord,i=r.coord,o=i[0]-s[0],a=s.length===2&&i.length===2?i[1]-s[1]:-Math.floor(o*7/12),c=r.height===n.height&&r.midi!==null&&n.midi!==null&&n.step>r.step;return Hl([o,a],c).name}function $l(t,e){const n=[];for(;e--;n[e]=e+t);return n}function zl(t,e){const n=[];for(;e--;n[e]=t-e);return n}function Kl(t,e){return t<e?$l(t,e-t+1):zl(t,t-e+1)}function Gt(t,e){const n=e.length,r=(t%n+n)%n;return e.slice(r,n).concat(e.slice(0,r))}function Yl(t){return t.filter(e=>e===0||e)}var st={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},Ti=t=>Number(t).toString(2),Ms=t=>parseInt(t,2),Wl=/^[01]{12}$/;function Nr(t){return Wl.test(t)}var ql=t=>typeof t=="number"&&t>=0&&t<=4095,Jl=t=>t&&Nr(t.chroma),Es={[st.chroma]:st};function ze(t){const e=Nr(t)?t:ql(t)?Ti(t):Array.isArray(t)?nc(t):Jl(t)?t.chroma:st.chroma;return Es[e]=Es[e]||tc(e)}var Xl=t=>ze(t).chroma,Ql=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function Zl(t){const e=[];for(let n=0;n<12;n++)t.charAt(n)==="1"&&e.push(Ql[n]);return e}function Ri(t,e=!0){const r=ze(t).chroma.split("");return Yl(r.map((s,i)=>{const o=Gt(i,r);return e&&o[0]==="0"?null:o.join("")}))}function Ar(t){const e=ze(t).setNum;return n=>{const r=ze(n).setNum;return e&&e!==r&&(r&e)===r}}function wr(t){const e=ze(t).setNum;return n=>{const r=ze(n).setNum;return e&&e!==r&&(r|e)===r}}function ec(t){const e=t.split("");return e.map((n,r)=>Gt(r,e).join(""))}function tc(t){const e=Ms(t),n=ec(t).map(Ms).filter(i=>i>=2048).sort()[0],r=Ti(n),s=Zl(t);return{empty:!1,name:"",setNum:e,chroma:t,normalized:r,intervals:s}}function nc(t){if(t.length===0)return st.chroma;let e;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<t.length;r++)e=$(t[r]),e.empty&&(e=kt(t[r])),e.empty||(n[e.chroma]=1);return n.join("")}var rc=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth/ninth","6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],sc=rc,ic={...st,name:"",quality:"Unknown",intervals:[],aliases:[]},Sr=[],Rt={};function oc(t){return Rt[t]||ic}function An(){return Sr.slice()}function ac(t,e,n){const r=cc(t),s={...ze(t),name:n||"",quality:r,intervals:t,aliases:e};Sr.push(s),s.name&&(Rt[s.name]=s),Rt[s.setNum]=s,Rt[s.chroma]=s,s.aliases.forEach(i=>lc(s,i))}function lc(t,e){Rt[e]=t}function cc(t){const e=n=>t.indexOf(n)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}sc.forEach(([t,e,n])=>ac(t.split(" "),n.split(" "),e));Sr.sort((t,e)=>t.setNum-e.setNum);var uc=t=>{const e=t.reduce((n,r)=>{const s=$(r).chroma;return s!==void 0&&(n[s]=n[s]||$(r).name),n},{});return n=>e[n]};function fc(t,e={}){const n=t.map(s=>$(s).pc).filter(s=>s);return $.length===0?[]:Mc(n,1,e).filter(s=>s.weight).sort((s,i)=>i.weight-s.weight).map(s=>s.name)}var wn={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},Sn=t=>e=>Boolean(e&t),dc=Sn(wn.anyThirds),hc=Sn(wn.perfectFifth),mc=Sn(wn.anySeventh),pc=Sn(wn.nonPerfectFifths);function gc(t){const e=parseInt(t.chroma,2);return dc(e)&&hc(e)&&mc(e)}function bc(t){const e=parseInt(t,2);return pc(e)?t:(e|16).toString(2)}function Mc(t,e,n){const r=t[0],s=$(r).chroma,i=uc(t),o=Ri(t,!1),a=[];return o.forEach((c,f)=>{const h=n.assumePerfectFifth&&bc(c);An().filter(E=>n.assumePerfectFifth&&gc(E)?E.chroma===h:E.chroma===c).forEach(E=>{const C=E.aliases[0],x=i(f);f!==s?a.push({weight:.5*e,name:`${x}${C}/${r}`}):a.push({weight:1*e,name:`${x}${C}`})})}),a}var Ec=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],yc=Ec,_c={...st,intervals:[],aliases:[]},vr=[],xt={};function Pc(){return vr.map(t=>t.name)}function xi(t){return xt[t]||_c}function vn(){return vr.slice()}function Nc(t,e,n=[]){const r={...ze(t),name:e,intervals:t,aliases:n};return vr.push(r),xt[r.name]=r,xt[r.setNum]=r,xt[r.chroma]=r,r.aliases.forEach(s=>Ac(r,s)),r}function Ac(t,e){xt[e]=t}yc.forEach(([t,e,...n])=>Nc(t.split(" "),e,n));var er={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]},wc=/^(6|64|7|9|11|13)$/;function Cr(t){const[e,n,r,s]=Ci(t);return e===""?["",t]:e==="A"&&s==="ug"?["","aug"]:!s&&(r==="4"||r==="5")?[e+n,r]:wc.test(r)?[e+n,r+s]:[e+n+r,s]}function it(t){if(t==="")return er;if(Array.isArray(t)&&t.length===2)return nn(t[1],t[0]);{const[e,n]=Cr(t),r=nn(n,e);return r.empty?nn(t):r}}function nn(t,e,n){const r=oc(t),s=$(e||""),i=$(n||"");if(r.empty||e&&s.empty||n&&i.empty)return er;const o=Vl(s.pc,i.pc),a=r.intervals.indexOf(o)+1;if(!i.empty&&!a)return er;const c=Array.from(r.intervals);for(let E=1;E<a;E++){const C=c[0][0],x=c[0][1],S=parseInt(C,10)+7;c.push(`${S}${x}`),c.shift()}const f=s.empty?[]:c.map(E=>Mt(s,E));t=r.aliases.indexOf(t)!==-1?t:r.aliases[0];const h=`${s.empty?"":s.pc}${t}${i.empty||a<=1?"":"/"+i.pc}`,g=`${e?s.pc+" ":""}${r.name}${a>1&&n?" over "+i.pc:""}`;return{...r,name:g,symbol:h,type:r.name,root:i.name,intervals:c,rootDegree:a,tonic:s.name,notes:f}}var Sc=yi("Chord.chord","Chord.get",it);function vc(t,e){const[n,r]=Cr(t);return n?Mt(n,e)+r:t}function Cc(t){const e=it(t),n=wr(e.chroma);return vn().filter(r=>n(r.chroma)).map(r=>r.name)}function Ic(t){const e=it(t),n=wr(e.chroma);return An().filter(r=>n(r.chroma)).map(r=>e.tonic+r.aliases[0])}function Tc(t){const e=it(t),n=Ar(e.chroma);return An().filter(r=>n(r.chroma)).map(r=>e.tonic+r.aliases[0])}function Rc(t){const{intervals:e,tonic:n}=it(t),r=Nn(e,n);return s=>s?r(s>0?s-1:s):""}function xc(t){const{intervals:e,tonic:n}=it(t);return Nn(e,n)}var Hn={getChord:nn,get:it,detect:fc,chordScales:Cc,extended:Ic,reduced:Tc,tokenize:Cr,transpose:vc,degrees:Rc,steps:xc,chord:Sc},Oc="C C# D D# E F F# G G# A A# B".split(" "),Bc="C Db D Eb E F Gb G Ab A Bb B".split(" ");function Oi(t,e={}){if(isNaN(t)||t===-1/0||t===1/0)return"";t=Math.round(t);const r=(e.sharps===!0?Oc:Bc)[t%12];if(e.pitchClass)return r;const s=Math.floor(t/12)-1;return r+s}var Dc=t=>t.name,Lc=t=>t.map($).filter(e=>!e.empty),ys=$;function Uc(t){return Oi(t)}var Bi=(t,e)=>t.height-e.height;function Fc(t,e){return e=e||Bi,Lc(t).sort(e).map(Dc)}function Hc(t){return Fc(t,Bi).filter((e,n,r)=>n===0||e!==r[n-1])}function kc(t,e){const n=ys(t);if(n.empty)return"";const r=ys(e||Oi(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(r.empty||r.chroma!==n.chroma)return"";if(n.oct===void 0)return r.pc;const s=n.chroma-n.alt,i=r.chroma-r.alt,o=s>11||i<0?-1:s<0||i>11?1:0,a=n.oct+o;return r.pc+a}var Ir=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],_s={...st,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},jc=Ir.map(Gc),tr={};jc.forEach(t=>{tr[t.name]=t,t.aliases.forEach(e=>{tr[e]=t})});function Di(t){return typeof t=="string"?tr[t.toLowerCase()]||_s:t&&t.name?Di(t.name):_s}function Gc(t){const[e,n,r,s,i,o,a]=t,c=a?[a]:[],f=Number(n).toString(2);return{empty:!1,intervals:xi(s).intervals,modeNum:e,chroma:f,normalized:f,name:s,setNum:n,alt:r,triad:i,seventh:o,aliases:c}}function Li(t){return(e,n)=>{const r=Di(e);if(r.empty)return[];const s=Gt(r.modeNum,t),i=r.intervals.map(o=>Mt(n,o));return s.map((o,a)=>i[a]+o)}}Li(Ir.map(t=>t[4]));Li(Ir.map(t=>t[5]));var Vc={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Ui(t){if(typeof t!="string")return["",""];const e=t.indexOf(" "),n=$(t.substring(0,e));if(n.empty){const s=$(t);return s.empty?["",t]:[s.name,""]}const r=t.substring(n.name.length+1);return[n.name,r.length?r:""]}var $c=Pc;function Re(t){const e=Array.isArray(t)?t:Ui(t),n=$(e[0]).name,r=xi(e[1]);if(r.empty)return Vc;const s=r.name,i=n?r.intervals.map(a=>Mt(n,a)):[],o=n?n+" "+s:s;return{...r,name:o,type:s,tonic:n,notes:i}}var zc=yi("Scale.scale","Scale.get",Re);function Kc(t,e={}){const n=Xl(t),r=$(e.tonic??t[0]??""),s=r.chroma;if(s===void 0)return[];const i=n.split("");i[s]="1";const o=Gt(s,i).join(""),a=vn().find(f=>f.chroma===o),c=[];return a&&c.push(r.name+" "+a.name),e.match==="exact"||Fi(o).forEach(f=>{c.push(r.name+" "+f)}),c}function Yc(t){const e=Re(t),n=Ar(e.chroma);return An().filter(r=>n(r.chroma)).map(r=>r.aliases[0])}function Fi(t){const e=Nr(t)?t:Re(t).chroma,n=wr(e);return vn().filter(r=>n(r.chroma)).map(r=>r.name)}function Wc(t){const e=Ar(Re(t).chroma);return vn().filter(n=>e(n.chroma)).map(n=>n.name)}function Hi(t){const e=t.map(s=>$(s).pc).filter(s=>s),n=e[0],r=Hc(e);return Gt(r.indexOf(n),r)}function qc(t){const e=Re(t);if(e.empty)return[];const n=e.tonic?e.notes:e.intervals;return Ri(e.chroma).map((r,s)=>{const i=Re(r).name;return i?[n[s],i]:["",""]}).filter(r=>r[0])}function Jc(t){const e=Array.isArray(t)?Hi(t):Re(t).notes,n=e.map(r=>$(r).chroma);return r=>{const s=$(typeof r=="number"?Uc(r):r),i=s.height;if(i===void 0)return;const o=i%12,a=n.indexOf(o);if(a!==-1)return kc(s.name,e[a])}}function Xc(t){const e=Jc(t);return(n,r)=>{const s=$(n).height,i=$(r).height;return s===void 0||i===void 0?[]:Kl(s,i).map(e).filter(o=>o)}}function Qc(t){const{intervals:e,tonic:n}=Re(t),r=Nn(e,n);return s=>s?r(s>0?s-1:s):""}function Zc(t){const{intervals:e,tonic:n}=Re(t);return Nn(e,n)}var eu={degrees:Qc,detect:Kc,extended:Fi,get:Re,modeNames:qc,names:$c,rangeOf:Xc,reduced:Wc,scaleChords:Yc,scaleNotes:Hi,steps:Zc,tokenize:Ui,scale:zc};class Pe{constructor(e=!1){this.eventMap={},this.eventsSuspended=e==!0}addListener(e,n,r={}){if(typeof e=="string"&&e.length<1||e instanceof String&&e.length<1||typeof e!="string"&&!(e instanceof String)&&e!==Pe.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(typeof n!="function")throw new TypeError("The callback must be a function.");const s=new Ps(e,this,n,r);return this.eventMap[e]||(this.eventMap[e]=[]),r.prepend?this.eventMap[e].unshift(s):this.eventMap[e].push(s),s}addOneTimeListener(e,n,r={}){r.remaining=1,this.addListener(e,n,r)}static get ANY_EVENT(){return Symbol.for("Any event")}hasListener(e,n){return e===void 0?this.eventMap[Pe.ANY_EVENT]&&this.eventMap[Pe.ANY_EVENT].length>0?!0:Object.entries(this.eventMap).some(([,r])=>r.length>0):this.eventMap[e]&&this.eventMap[e].length>0?n instanceof Ps?this.eventMap[e].filter(s=>s===n).length>0:typeof n=="function"?this.eventMap[e].filter(s=>s.callback===n).length>0:n==null:!1}get eventNames(){return Object.keys(this.eventMap)}getListeners(e){return this.eventMap[e]||[]}suspendEvent(e){this.getListeners(e).forEach(n=>{n.suspended=!0})}unsuspendEvent(e){this.getListeners(e).forEach(n=>{n.suspended=!1})}getListenerCount(e){return this.getListeners(e).length}emit(e,...n){if(typeof e!="string"&&!(e instanceof String))throw new TypeError("The 'event' parameter must be a string.");if(this.eventsSuspended)return;let r=[],s=this.eventMap[Pe.ANY_EVENT]||[];return this.eventMap[e]&&(s=s.concat(this.eventMap[e])),s.forEach(i=>{if(i.suspended)return;let o=[...n];Array.isArray(i.arguments)&&(o=o.concat(i.arguments)),i.remaining>0&&(r.push(i.callback.apply(i.context,o)),i.count++),--i.remaining<1&&i.remove()}),r}removeListener(e,n,r={}){if(e===void 0){this.eventMap={};return}else if(!this.eventMap[e])return;let s=this.eventMap[e].filter(i=>n&&i.callback!==n||r.remaining&&r.remaining!==i.remaining||r.context&&r.context!==i.context);s.length?this.eventMap[e]=s:delete this.eventMap[e]}async waitFor(e,n={}){return n.duration=parseInt(n.duration),(isNaN(n.duration)||n.duration<=0)&&(n.duration=1/0),new Promise((r,s)=>{let i,o=this.addListener(e,()=>{clearTimeout(i),r()},{remaining:1});n.duration!==1/0&&(i=setTimeout(()=>{o.remove(),s("The duration expired before the event was emitted.")},n.duration))})}get eventCount(){return Object.keys(this.eventMap).length}}class Ps{constructor(e,n,r,s={}){if(typeof e!="string"&&!(e instanceof String)&&e!==Pe.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(!n)throw new ReferenceError("The 'target' parameter is mandatory.");if(typeof r!="function")throw new TypeError("The 'callback' must be a function.");s.arguments!==void 0&&!Array.isArray(s.arguments)&&(s.arguments=[s.arguments]),s=Object.assign({context:n,remaining:1/0,arguments:void 0,duration:1/0},s),s.duration!==1/0&&setTimeout(()=>this.remove(),s.duration),this.arguments=s.arguments,this.callback=r,this.context=s.context,this.count=0,this.event=e,this.remaining=parseInt(s.remaining)>=1?parseInt(s.remaining):1/0,this.suspended=!1,this.target=n}remove(){this.target.removeListener(this.event,this.callback,{context:this.context,remaining:this.remaining})}}/**
 * The `Enumerations` class contains enumerations and arrays of elements used throughout the
 * library. All its properties are static and should be referenced using the class name. For
 * example: `Enumerations.CHANNEL_MESSAGES`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class m{static get MIDI_CHANNEL_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MESSAGES enum instead."),m.CHANNEL_MESSAGES}static get CHANNEL_MESSAGES(){return{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,programchange:12,channelaftertouch:13,pitchbend:14}}static get CHANNEL_NUMBERS(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get MIDI_CHANNEL_NUMBERS(){return this.validation&&console.warn("The MIDI_CHANNEL_NUMBERS array has been deprecated. Use the Enumerations.CHANNEL_NUMBERS array instead."),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get CHANNEL_MODE_MESSAGES(){return{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MODE_MESSAGES enum instead."),m.CHANNEL_MODE_MESSAGES}static get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been deprecated. Use the Enumerations.CONTROL_CHANGE_MESSAGES array instead."),{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,controller3:3,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,controller9:9,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,controller14:14,controller15:15,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,controller20:20,controller21:21,controller22:22,controller23:23,controller24:24,controller25:25,controller26:26,controller27:27,controller28:28,controller29:29,controller30:30,controller31:31,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,controller35:35,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,controller41:41,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,controller46:46,controller47:47,controller48:48,controller49:49,controller50:50,controller51:51,controller52:52,controller53:53,controller54:54,controller55:55,controller56:56,controller57:57,controller58:58,controller59:59,controller60:60,controller61:61,controller62:62,controller63:63,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,controller84:84,controller85:85,controller86:86,controller87:87,controller88:88,controller89:89,controller90:90,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101,controller102:102,controller103:103,controller104:104,controller105:105,controller106:106,controller107:107,controller108:108,controller109:109,controller110:110,controller111:111,controller112:112,controller113:113,controller114:114,controller115:115,controller116:116,controller117:117,controller118:118,controller119:119,allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get CONTROL_CHANGE_MESSAGES(){return[{number:0,name:"bankselectcoarse",description:"Bank Select (Coarse)",position:"msb"},{number:1,name:"modulationwheelcoarse",description:"Modulation Wheel (Coarse)",position:"msb"},{number:2,name:"breathcontrollercoarse",description:"Breath Controller (Coarse)",position:"msb"},{number:3,name:"controller3",description:"Undefined",position:"msb"},{number:4,name:"footcontrollercoarse",description:"Foot Controller (Coarse)",position:"msb"},{number:5,name:"portamentotimecoarse",description:"Portamento Time (Coarse)",position:"msb"},{number:6,name:"dataentrycoarse",description:"Data Entry (Coarse)",position:"msb"},{number:7,name:"volumecoarse",description:"Channel Volume (Coarse)",position:"msb"},{number:8,name:"balancecoarse",description:"Balance (Coarse)",position:"msb"},{number:9,name:"controller9",description:"Controller 9 (Coarse)",position:"msb"},{number:10,name:"pancoarse",description:"Pan (Coarse)",position:"msb"},{number:11,name:"expressioncoarse",description:"Expression Controller (Coarse)",position:"msb"},{number:12,name:"effectcontrol1coarse",description:"Effect Control 1 (Coarse)",position:"msb"},{number:13,name:"effectcontrol2coarse",description:"Effect Control 2 (Coarse)",position:"msb"},{number:14,name:"controller14",description:"Undefined",position:"msb"},{number:15,name:"controller15",description:"Undefined",position:"msb"},{number:16,name:"generalpurposecontroller1",description:"General Purpose Controller 1 (Coarse)",position:"msb"},{number:17,name:"generalpurposecontroller2",description:"General Purpose Controller 2 (Coarse)",position:"msb"},{number:18,name:"generalpurposecontroller3",description:"General Purpose Controller 3 (Coarse)",position:"msb"},{number:19,name:"generalpurposecontroller4",description:"General Purpose Controller 4 (Coarse)",position:"msb"},{number:20,name:"controller20",description:"Undefined",position:"msb"},{number:21,name:"controller21",description:"Undefined",position:"msb"},{number:22,name:"controller22",description:"Undefined",position:"msb"},{number:23,name:"controller23",description:"Undefined",position:"msb"},{number:24,name:"controller24",description:"Undefined",position:"msb"},{number:25,name:"controller25",description:"Undefined",position:"msb"},{number:26,name:"controller26",description:"Undefined",position:"msb"},{number:27,name:"controller27",description:"Undefined",position:"msb"},{number:28,name:"controller28",description:"Undefined",position:"msb"},{number:29,name:"controller29",description:"Undefined",position:"msb"},{number:30,name:"controller30",description:"Undefined",position:"msb"},{number:31,name:"controller31",description:"Undefined",position:"msb"},{number:32,name:"bankselectfine",description:"Bank Select (Fine)",position:"lsb"},{number:33,name:"modulationwheelfine",description:"Modulation Wheel (Fine)",position:"lsb"},{number:34,name:"breathcontrollerfine",description:"Breath Controller (Fine)",position:"lsb"},{number:35,name:"controller35",description:"Undefined",position:"lsb"},{number:36,name:"footcontrollerfine",description:"Foot Controller (Fine)",position:"lsb"},{number:37,name:"portamentotimefine",description:"Portamento Time (Fine)",position:"lsb"},{number:38,name:"dataentryfine",description:"Data Entry (Fine)",position:"lsb"},{number:39,name:"channelvolumefine",description:"Channel Volume (Fine)",position:"lsb"},{number:40,name:"balancefine",description:"Balance (Fine)",position:"lsb"},{number:41,name:"controller41",description:"Undefined",position:"lsb"},{number:42,name:"panfine",description:"Pan (Fine)",position:"lsb"},{number:43,name:"expressionfine",description:"Expression Controller (Fine)",position:"lsb"},{number:44,name:"effectcontrol1fine",description:"Effect control 1 (Fine)",position:"lsb"},{number:45,name:"effectcontrol2fine",description:"Effect control 2 (Fine)",position:"lsb"},{number:46,name:"controller46",description:"Undefined",position:"lsb"},{number:47,name:"controller47",description:"Undefined",position:"lsb"},{number:48,name:"controller48",description:"General Purpose Controller 1 (Fine)",position:"lsb"},{number:49,name:"controller49",description:"General Purpose Controller 2 (Fine)",position:"lsb"},{number:50,name:"controller50",description:"General Purpose Controller 3 (Fine)",position:"lsb"},{number:51,name:"controller51",description:"General Purpose Controller 4 (Fine)",position:"lsb"},{number:52,name:"controller52",description:"Undefined",position:"lsb"},{number:53,name:"controller53",description:"Undefined",position:"lsb"},{number:54,name:"controller54",description:"Undefined",position:"lsb"},{number:55,name:"controller55",description:"Undefined",position:"lsb"},{number:56,name:"controller56",description:"Undefined",position:"lsb"},{number:57,name:"controller57",description:"Undefined",position:"lsb"},{number:58,name:"controller58",description:"Undefined",position:"lsb"},{number:59,name:"controller59",description:"Undefined",position:"lsb"},{number:60,name:"controller60",description:"Undefined",position:"lsb"},{number:61,name:"controller61",description:"Undefined",position:"lsb"},{number:62,name:"controller62",description:"Undefined",position:"lsb"},{number:63,name:"controller63",description:"Undefined",position:"lsb"},{number:64,name:"damperpedal",description:"Damper Pedal On/Off"},{number:65,name:"portamento",description:"Portamento On/Off"},{number:66,name:"sostenuto",description:"Sostenuto On/Off"},{number:67,name:"softpedal",description:"Soft Pedal On/Off"},{number:68,name:"legatopedal",description:"Legato Pedal On/Off"},{number:69,name:"hold2",description:"Hold 2 On/Off"},{number:70,name:"soundvariation",description:"Sound Variation",position:"lsb"},{number:71,name:"resonance",description:"Resonance",position:"lsb"},{number:72,name:"releasetime",description:"Release Time",position:"lsb"},{number:73,name:"attacktime",description:"Attack Time",position:"lsb"},{number:74,name:"brightness",description:"Brightness",position:"lsb"},{number:75,name:"decaytime",description:"Decay Time",position:"lsb"},{number:76,name:"vibratorate",description:"Vibrato Rate",position:"lsb"},{number:77,name:"vibratodepth",description:"Vibrato Depth",position:"lsb"},{number:78,name:"vibratodelay",description:"Vibrato Delay",position:"lsb"},{number:79,name:"controller79",description:"Undefined",position:"lsb"},{number:80,name:"generalpurposecontroller5",description:"General Purpose Controller 5",position:"lsb"},{number:81,name:"generalpurposecontroller6",description:"General Purpose Controller 6",position:"lsb"},{number:82,name:"generalpurposecontroller7",description:"General Purpose Controller 7",position:"lsb"},{number:83,name:"generalpurposecontroller8",description:"General Purpose Controller 8",position:"lsb"},{number:84,name:"portamentocontrol",description:"Portamento Control",position:"lsb"},{number:85,name:"controller85",description:"Undefined"},{number:86,name:"controller86",description:"Undefined"},{number:87,name:"controller87",description:"Undefined"},{number:88,name:"highresolutionvelocityprefix",description:"High Resolution Velocity Prefix",position:"lsb"},{number:89,name:"controller89",description:"Undefined"},{number:90,name:"controller90",description:"Undefined"},{number:91,name:"effect1depth",description:"Effects 1 Depth (Reverb Send Level)"},{number:92,name:"effect2depth",description:"Effects 2 Depth"},{number:93,name:"effect3depth",description:"Effects 3 Depth (Chorus Send Level)"},{number:94,name:"effect4depth",description:"Effects 4 Depth"},{number:95,name:"effect5depth",description:"Effects 5 Depth"},{number:96,name:"dataincrement",description:"Data Increment"},{number:97,name:"datadecrement",description:"Data Decrement"},{number:98,name:"nonregisteredparameterfine",description:"Non-Registered Parameter Number (Fine)",position:"lsb"},{number:99,name:"nonregisteredparametercoarse",description:"Non-Registered Parameter Number (Coarse)",position:"msb"},{number:100,name:"registeredparameterfine",description:"Registered Parameter Number (Fine)",position:"lsb"},{number:101,name:"registeredparametercoarse",description:"Registered Parameter Number (Coarse)",position:"msb"},{number:102,name:"controller102",description:"Undefined"},{number:103,name:"controller103",description:"Undefined"},{number:104,name:"controller104",description:"Undefined"},{number:105,name:"controller105",description:"Undefined"},{number:106,name:"controller106",description:"Undefined"},{number:107,name:"controller107",description:"Undefined"},{number:108,name:"controller108",description:"Undefined"},{number:109,name:"controller109",description:"Undefined"},{number:110,name:"controller110",description:"Undefined"},{number:111,name:"controller111",description:"Undefined"},{number:112,name:"controller112",description:"Undefined"},{number:113,name:"controller113",description:"Undefined"},{number:114,name:"controller114",description:"Undefined"},{number:115,name:"controller115",description:"Undefined"},{number:116,name:"controller116",description:"Undefined"},{number:117,name:"controller117",description:"Undefined"},{number:118,name:"controller118",description:"Undefined"},{number:119,name:"controller119",description:"Undefined"},{number:120,name:"allsoundoff",description:"All Sound Off"},{number:121,name:"resetallcontrollers",description:"Reset All Controllers"},{number:122,name:"localcontrol",description:"Local Control On/Off"},{number:123,name:"allnotesoff",description:"All Notes Off"},{number:124,name:"omnimodeoff",description:"Omni Mode Off"},{number:125,name:"omnimodeon",description:"Omni Mode On"},{number:126,name:"monomodeon",description:"Mono Mode On"},{number:127,name:"polymodeon",description:"Poly Mode On"}]}static get REGISTERED_PARAMETERS(){return{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]}}static get MIDI_REGISTERED_PARAMETERS(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETERS enum has been deprecated. Use the Enumerations.REGISTERED_PARAMETERS enum instead."),m.MIDI_REGISTERED_PARAMETERS}static get SYSTEM_MESSAGES(){return{sysex:240,timecode:241,songposition:242,songselect:243,tunerequest:246,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1}}static get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been deprecated. Use the Enumerations.SYSTEM_MESSAGES enum instead."),m.SYSTEM_MESSAGES}static get CHANNEL_EVENTS(){return["noteoff","controlchange","noteon","keyaftertouch","programchange","channelaftertouch","pitchbend","allnotesoff","allsoundoff","localcontrol","monomode","omnimode","resetallcontrollers","nrpn","nrpn-dataentrycoarse","nrpn-dataentryfine","nrpn-dataincrement","nrpn-datadecrement","rpn","rpn-dataentrycoarse","rpn-dataentryfine","rpn-dataincrement","rpn-datadecrement","nrpn-databuttonincrement","nrpn-databuttondecrement","rpn-databuttonincrement","rpn-databuttondecrement"]}}/**
 * The `Note` class represents a single musical note such as `"D3"`, `"G#4"`, `"F-1"`, `"Gb7"`, etc.
 *
 * `Note` objects can be played back on a single channel by calling
 * [`OutputChannel.playNote()`]{@link OutputChannel#playNote} or, on multiple channels of the same
 * output, by calling [`Output.playNote()`]{@link Output#playNote}.
 *
 * The note has [`attack`](#attack) and [`release`](#release) velocities set at `0.5` by default.
 * These can be changed by passing in the appropriate option. It is also possible to set a
 * system-wide default for attack and release velocities by using the
 * [`WebMidi.defaults`](WebMidi#defaults) property.
 *
 * If you prefer to work with raw MIDI values (`0` to `127`), you can use [`rawAttack`](#rawAttack) and
 * [`rawRelease`](#rawRelease) to both get and set the values.
 *
 * The note may have a [`duration`](#duration). If it does, playback will be automatically stopped
 * when the duration has elapsed by sending a `"noteoff"` event. By default, the duration is set to
 * `Infinity`. In this case, it will never stop playing unless explicitly stopped by calling a
 * method such as [`OutputChannel.stopNote()`]{@link OutputChannel#stopNote},
 * [`Output.stopNote()`]{@link Output#stopNote} or similar.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class ut{constructor(e,n={}){this.duration=y.defaults.note.duration,this.attack=y.defaults.note.attack,this.release=y.defaults.note.release,n.duration!=null&&(this.duration=n.duration),n.attack!=null&&(this.attack=n.attack),n.rawAttack!=null&&(this.attack=P.from7bitToFloat(n.rawAttack)),n.release!=null&&(this.release=n.release),n.rawRelease!=null&&(this.release=P.from7bitToFloat(n.rawRelease)),Number.isInteger(e)?this.identifier=P.toNoteIdentifier(e):this.identifier=e}get identifier(){return this._name+(this._accidental||"")+this._octave}set identifier(e){const n=P.getNoteDetails(e);if(y.validation&&!e)throw new Error("Invalid note identifier");this._name=n.name,this._accidental=n.accidental,this._octave=n.octave}get name(){return this._name}set name(e){if(y.validation&&(e=e.toUpperCase(),!["C","D","E","F","G","A","B"].includes(e)))throw new Error("Invalid name value");this._name=e}get accidental(){return this._accidental}set accidental(e){if(y.validation&&(e=e.toLowerCase(),!["#","##","b","bb"].includes(e)))throw new Error("Invalid accidental value");this._accidental=e}get octave(){return this._octave}set octave(e){if(y.validation&&(e=parseInt(e),isNaN(e)))throw new Error("Invalid octave value");this._octave=e}get duration(){return this._duration}set duration(e){if(y.validation&&(e=parseFloat(e),isNaN(e)||e===null||e<0))throw new RangeError("Invalid duration value.");this._duration=e}get attack(){return this._attack}set attack(e){if(y.validation&&(e=parseFloat(e),isNaN(e)||!(e>=0&&e<=1)))throw new RangeError("Invalid attack value.");this._attack=e}get release(){return this._release}set release(e){if(y.validation&&(e=parseFloat(e),isNaN(e)||!(e>=0&&e<=1)))throw new RangeError("Invalid release value.");this._release=e}get rawAttack(){return P.fromFloatTo7Bit(this._attack)}set rawAttack(e){this._attack=P.from7bitToFloat(e)}get rawRelease(){return P.fromFloatTo7Bit(this._release)}set rawRelease(e){this._release=P.from7bitToFloat(e)}get number(){return P.toNoteNumber(this.identifier)}getOffsetNumber(e=0,n=0){return y.validation&&(e=parseInt(e)||0,n=parseInt(n)||0),Math.min(Math.max(this.number+e*12+n,0),127)}}/**
 * The `Utilities` class contains general-purpose utility methods. All methods are static and
 * should be called using the class name. For example: `Utilities.getNoteDetails("C4")`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class P{static toNoteNumber(e,n=0){if(n=n==null?0:parseInt(n),isNaN(n))throw new RangeError("Invalid 'octaveOffset' value");typeof e!="string"&&(e="");const r=this.getNoteDetails(e);if(!r)throw new TypeError("Invalid note identifier");const s={C:0,D:2,E:4,F:5,G:7,A:9,B:11};let i=(r.octave+1+n)*12;if(i+=s[r.name],r.accidental&&(r.accidental.startsWith("b")?i-=r.accidental.length:i+=r.accidental.length),i<0||i>127)throw new RangeError("Invalid octaveOffset value");return i}static getNoteDetails(e){Number.isInteger(e)&&(e=this.toNoteIdentifier(e));const n=e.match(/^([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)$/i);if(!n)throw new TypeError("Invalid note identifier");const r=n[1].toUpperCase(),s=parseInt(n[3]);let i=n[2].toLowerCase();return i=i===""?void 0:i,{accidental:i,identifier:r+(i||"")+s,name:r,octave:s}}static sanitizeChannels(e){let n;if(y.validation){if(e==="all")n=["all"];else if(e==="none")return[]}return Array.isArray(e)?n=e:n=[e],n.indexOf("all")>-1&&(n=m.MIDI_CHANNEL_NUMBERS),n.map(function(r){return parseInt(r)}).filter(function(r){return r>=1&&r<=16})}static toTimestamp(e){let n=!1;const r=parseFloat(e);return isNaN(r)?!1:(typeof e=="string"&&e.substring(0,1)==="+"?r>=0&&(n=y.time+r):r>=0&&(n=r),n)}static guessNoteNumber(e,n){n=parseInt(n)||0;let r=!1;if(Number.isInteger(e)&&e>=0&&e<=127)r=parseInt(e);else if(parseInt(e)>=0&&parseInt(e)<=127)r=parseInt(e);else if(typeof e=="string"||e instanceof String)try{r=this.toNoteNumber(e.trim(),n)}catch{return!1}return r}static toNoteIdentifier(e,n){if(e=parseInt(e),isNaN(e)||e<0||e>127)throw new RangeError("Invalid note number");if(n=n==null?0:parseInt(n),isNaN(n))throw new RangeError("Invalid octaveOffset value");const r=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],s=Math.floor(e/12-1)+n;return r[e%12]+s.toString()}static buildNote(e,n={}){if(n.octaveOffset=parseInt(n.octaveOffset)||0,e instanceof ut)return e;let r=this.guessNoteNumber(e,n.octaveOffset);if(r===!1)throw new TypeError(`The input could not be parsed as a note (${e})`);return n.octaveOffset=void 0,new ut(r,n)}static buildNoteArray(e,n={}){let r=[];return Array.isArray(e)||(e=[e]),e.forEach(s=>{r.push(this.buildNote(s,n))}),r}static from7bitToFloat(e){return e===1/0&&(e=127),e=parseInt(e)||0,Math.min(Math.max(e/127,0),1)}static fromFloatTo7Bit(e){return e===1/0&&(e=1),e=parseFloat(e)||0,Math.min(Math.max(Math.round(e*127),0),127)}static fromMsbLsbToFloat(e,n=0){y.validation&&(e=Math.min(Math.max(parseInt(e)||0,0),127),n=Math.min(Math.max(parseInt(n)||0,0),127));const r=((e<<7)+n)/16383;return Math.min(Math.max(r,0),1)}static fromFloatToMsbLsb(e){y.validation&&(e=Math.min(Math.max(parseFloat(e)||0,0),1));const n=Math.round(e*16383);return{msb:n>>7,lsb:n&127}}static offsetNumber(e,n=0,r=0){if(y.validation){if(e=parseInt(e),isNaN(e))throw new Error("Invalid note number");n=parseInt(n)||0,r=parseInt(r)||0}return Math.min(Math.max(e+n*12+r,0),127)}static getPropertyByValue(e,n){return Object.keys(e).find(r=>e[r]===n)}static getCcNameByNumber(e){if(!(y.validation&&(e=parseInt(e),!(e>=0&&e<=127))))return m.CONTROL_CHANGE_MESSAGES[e].name}static getCcNumberByName(e){let n=m.CONTROL_CHANGE_MESSAGES.find(r=>r.name===e);return n?n.number:m.MIDI_CONTROL_CHANGE_MESSAGES[e]}static getChannelModeByNumber(e){if(!(e>=120&&e<=127))return!1;for(let n in m.CHANNEL_MODE_MESSAGES)if(m.CHANNEL_MODE_MESSAGES.hasOwnProperty(n)&&e===m.CHANNEL_MODE_MESSAGES[n])return n;return!1}static get isNode(){return typeof process<"u"&&process.versions!=null&&process.versions.node!=null}static get isBrowser(){return typeof window<"u"&&typeof window.document<"u"}}/**
 * The `OutputChannel` class represents a single output MIDI channel. `OutputChannel` objects are
 * provided by an [`Output`](Output) port which, itself, is made available by a device. The
 * `OutputChannel` object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `OutputChannel` objects can be found inside the parent output's
 * [`channels`]{@link Output#channels} property.
 *
 * @param {Output} output The [`Output`](Output) this channel belongs to.
 * @param {number} number The MIDI channel number (`1` - `16`).
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class tu extends Pe{constructor(e,n){super(),this._output=e,this._number=n,this._octaveOffset=0}destroy(){this._output=null,this._number=null,this._octaveOffset=0,this.removeListener()}send(e,n={time:0}){return this.output.send(e,n),this}sendKeyAftertouch(e,n,r={}){if(y.validation){if(r.useRawValue&&(r.rawValue=r.useRawValue),isNaN(parseFloat(n)))throw new RangeError("Invalid key aftertouch value.");if(r.rawValue){if(!(n>=0&&n<=127&&Number.isInteger(n)))throw new RangeError("Key aftertouch raw value must be an integer between 0 and 127.")}else if(!(n>=0&&n<=1))throw new RangeError("Key aftertouch value must be a float between 0 and 1.")}r.rawValue||(n=P.fromFloatTo7Bit(n));const s=y.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Array.isArray(e)||(e=[e]),P.buildNoteArray(e).forEach(i=>{this.send([(m.CHANNEL_MESSAGES.keyaftertouch<<4)+(this.number-1),i.getOffsetNumber(s),n],{time:P.toTimestamp(r.time)})}),this}sendControlChange(e,n,r={}){if(typeof e=="string"&&(e=P.getCcNumberByName(e)),Array.isArray(n)||(n=[n]),y.validation){if(e===void 0)throw new TypeError("Control change must be identified with a valid name or an integer between 0 and 127.");if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new TypeError("Control change number must be an integer between 0 and 127.");if(n=n.map(s=>{const i=Math.min(Math.max(parseInt(s),0),127);if(isNaN(i))throw new TypeError("Values must be integers between 0 and 127");return i}),n.length===2&&e>=32)throw new TypeError("To use a value array, the controller must be between 0 and 31")}return n.forEach((s,i)=>{this.send([(m.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),e+i*32,n[i]],{time:P.toTimestamp(r.time)})}),this}_selectNonRegisteredParameter(e,n={}){return this.sendControlChange(99,e[0],n),this.sendControlChange(98,e[1],n),this}_deselectRegisteredParameter(e={}){return this.sendControlChange(101,127,e),this.sendControlChange(100,127,e),this}_deselectNonRegisteredParameter(e={}){return this.sendControlChange(101,127,e),this.sendControlChange(100,127,e),this}_selectRegisteredParameter(e,n={}){return this.sendControlChange(101,e[0],n),this.sendControlChange(100,e[1],n),this}_setCurrentParameter(e,n={}){return e=[].concat(e),this.sendControlChange(6,e[0],n),e.length<2?this:(this.sendControlChange(38,e[1],n),this)}sendRpnDecrement(e,n={}){if(Array.isArray(e)||(e=m.REGISTERED_PARAMETERS[e]),y.validation){if(e===void 0)throw new TypeError("The specified registered parameter is invalid.");let r=!1;if(Object.getOwnPropertyNames(m.REGISTERED_PARAMETERS).forEach(s=>{m.REGISTERED_PARAMETERS[s][0]===e[0]&&m.REGISTERED_PARAMETERS[s][1]===e[1]&&(r=!0)}),!r)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(e,n),this.sendControlChange(97,0,n),this._deselectRegisteredParameter(n),this}sendRpnIncrement(e,n={}){if(Array.isArray(e)||(e=m.REGISTERED_PARAMETERS[e]),y.validation){if(e===void 0)throw new TypeError("The specified registered parameter is invalid.");let r=!1;if(Object.getOwnPropertyNames(m.REGISTERED_PARAMETERS).forEach(s=>{m.REGISTERED_PARAMETERS[s][0]===e[0]&&m.REGISTERED_PARAMETERS[s][1]===e[1]&&(r=!0)}),!r)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(e,n),this.sendControlChange(96,0,n),this._deselectRegisteredParameter(n),this}playNote(e,n={}){this.sendNoteOn(e,n);const r=Array.isArray(e)?e:[e];for(let s of r)if(parseInt(s.duration)>0){const i={time:(P.toTimestamp(n.time)||y.time)+parseInt(s.duration),release:s.release,rawRelease:s.rawRelease};this.sendNoteOff(s,i)}else if(parseInt(n.duration)>0){const i={time:(P.toTimestamp(n.time)||y.time)+parseInt(n.duration),release:n.release,rawRelease:n.rawRelease};this.sendNoteOff(s,i)}return this}sendNoteOff(e,n={}){if(y.validation){if(n.rawRelease!=null&&!(n.rawRelease>=0&&n.rawRelease<=127))throw new RangeError("The 'rawRelease' option must be an integer between 0 and 127");if(n.release!=null&&!(n.release>=0&&n.release<=1))throw new RangeError("The 'release' option must be an number between 0 and 1");n.rawVelocity&&(n.rawRelease=n.velocity,console.warn("The 'rawVelocity' option is deprecated. Use 'rawRelease' instead.")),n.velocity&&(n.release=n.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let r=64;n.rawRelease!=null?r=n.rawRelease:isNaN(n.release)||(r=Math.round(n.release*127));const s=y.octaveOffset+this.output.octaveOffset+this.octaveOffset;return P.buildNoteArray(e,{rawRelease:parseInt(r)}).forEach(i=>{this.send([(m.CHANNEL_MESSAGES.noteoff<<4)+(this.number-1),i.getOffsetNumber(s),i.rawRelease],{time:P.toTimestamp(n.time)})}),this}stopNote(e,n={}){return this.sendNoteOff(e,n)}sendNoteOn(e,n={}){if(y.validation){if(n.rawAttack!=null&&!(n.rawAttack>=0&&n.rawAttack<=127))throw new RangeError("The 'rawAttack' option must be an integer between 0 and 127");if(n.attack!=null&&!(n.attack>=0&&n.attack<=1))throw new RangeError("The 'attack' option must be an number between 0 and 1");n.rawVelocity&&(n.rawAttack=n.velocity,n.rawRelease=n.release,console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' or 'rawRelease'.")),n.velocity&&(n.attack=n.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let r=64;n.rawAttack!=null?r=n.rawAttack:isNaN(n.attack)||(r=Math.round(n.attack*127));const s=y.octaveOffset+this.output.octaveOffset+this.octaveOffset;return P.buildNoteArray(e,{rawAttack:r}).forEach(i=>{this.send([(m.CHANNEL_MESSAGES.noteon<<4)+(this.number-1),i.getOffsetNumber(s),i.rawAttack],{time:P.toTimestamp(n.time)})}),this}sendChannelMode(e,n=0,r={}){if(typeof e=="string"&&(e=m.CHANNEL_MODE_MESSAGES[e]),y.validation){if(e===void 0)throw new TypeError("Invalid channel mode message name or number.");if(isNaN(e)||!(e>=120&&e<=127))throw new TypeError("Invalid channel mode message number.");if(isNaN(parseInt(n))||n<0||n>127)throw new RangeError("Value must be an integer between 0 and 127.")}return this.send([(m.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),e,n],{time:P.toTimestamp(r.time)}),this}sendOmniMode(e,n={}){return e===void 0||e?this.sendChannelMode("omnimodeon",0,n):this.sendChannelMode("omnimodeoff",0,n),this}sendChannelAftertouch(e,n={}){if(y.validation){if(isNaN(parseFloat(e)))throw new RangeError("Invalid channel aftertouch value.");if(n.rawValue){if(!(e>=0&&e<=127&&Number.isInteger(e)))throw new RangeError("Channel aftertouch raw value must be an integer between 0 and 127.")}else if(!(e>=0&&e<=1))throw new RangeError("Channel aftertouch value must be a float between 0 and 1.")}return this.send([(m.CHANNEL_MESSAGES.channelaftertouch<<4)+(this.number-1),Math.round(e*127)],{time:P.toTimestamp(n.time)}),this}sendMasterTuning(e,n={}){if(e=parseFloat(e)||0,y.validation&&!(e>-65&&e<64))throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");let r=Math.floor(e)+64,s=e-Math.floor(e);s=Math.round((s+1)/2*16383);let i=s>>7&127,o=s&127;return this.sendRpnValue("channelcoarsetuning",r,n),this.sendRpnValue("channelfinetuning",[i,o],n),this}sendModulationRange(e,n,r={}){if(y.validation){if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(n!=null&&(!Number.isInteger(n)||!(n>=0&&n<=127)))throw new RangeError("If specified, the cents value must be an integer between 0 and 127.")}return n>=0&&n<=127||(n=0),this.sendRpnValue("modulationrange",[e,n],r),this}sendNrpnValue(e,n,r={}){if(n=[].concat(n),y.validation){if(!Array.isArray(e)||!Number.isInteger(e[0])||!Number.isInteger(e[1]))throw new TypeError("The specified NRPN is invalid.");if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The first byte of the NRPN must be between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The second byte of the NRPN must be between 0 and 127.");n.forEach(s=>{if(!(s>=0&&s<=127))throw new RangeError("The data bytes of the NRPN must be between 0 and 127.")})}return this._selectNonRegisteredParameter(e,r),this._setCurrentParameter(n,r),this._deselectNonRegisteredParameter(r),this}sendPitchBend(e,n={}){if(y.validation)if(n.rawValue&&Array.isArray(e)){if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The pitch bend LSB must be an integer between 0 and 127.")}else if(n.rawValue&&!Array.isArray(e)){if(!(e>=0&&e<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.")}else{if(isNaN(e)||e===null)throw new RangeError("Invalid pitch bend value.");if(!(e>=-1&&e<=1))throw new RangeError("The pitch bend value must be a float between -1 and 1.")}let r=0,s=0;if(n.rawValue&&Array.isArray(e))r=e[0],s=e[1];else if(n.rawValue&&!Array.isArray(e))r=e;else{const i=P.fromFloatToMsbLsb((e+1)/2);r=i.msb,s=i.lsb}return this.send([(m.CHANNEL_MESSAGES.pitchbend<<4)+(this.number-1),s,r],{time:P.toTimestamp(n.time)}),this}sendPitchBendRange(e,n,r={}){if(y.validation){if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(!Number.isInteger(n)||!(n>=0&&n<=127))throw new RangeError("The cents value must be an integer between 0 and 127.")}return this.sendRpnValue("pitchbendrange",[e,n],r),this}sendProgramChange(e,n={}){if(e=parseInt(e)||0,y.validation&&!(e>=0&&e<=127))throw new RangeError("The program number must be between 0 and 127.");return this.send([(m.CHANNEL_MESSAGES.programchange<<4)+(this.number-1),e],{time:P.toTimestamp(n.time)}),this}sendRpnValue(e,n,r={}){if(Array.isArray(e)||(e=m.REGISTERED_PARAMETERS[e]),y.validation){if(!Number.isInteger(e[0])||!Number.isInteger(e[1]))throw new TypeError("The specified NRPN is invalid.");if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The first byte of the RPN must be between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The second byte of the RPN must be between 0 and 127.");[].concat(n).forEach(s=>{if(!(s>=0&&s<=127))throw new RangeError("The data bytes of the RPN must be between 0 and 127.")})}return this._selectRegisteredParameter(e,r),this._setCurrentParameter(n,r),this._deselectRegisteredParameter(r),this}sendTuningBank(e,n={}){if(y.validation&&(!Number.isInteger(e)||!(e>=0&&e<=127)))throw new RangeError("The tuning bank number must be between 0 and 127.");return this.sendRpnValue("tuningbank",e,n),this}sendTuningProgram(e,n={}){if(y.validation&&(!Number.isInteger(e)||!(e>=0&&e<=127)))throw new RangeError("The tuning program number must be between 0 and 127.");return this.sendRpnValue("tuningprogram",e,n),this}sendLocalControl(e,n={}){return e?this.sendChannelMode("localcontrol",127,n):this.sendChannelMode("localcontrol",0,n)}sendAllNotesOff(e={}){return this.sendChannelMode("allnotesoff",0,e)}sendAllSoundOff(e={}){return this.sendChannelMode("allsoundoff",0,e)}sendResetAllControllers(e={}){return this.sendChannelMode("resetallcontrollers",0,e)}sendPolyphonicMode(e,n={}){return e==="mono"?this.sendChannelMode("monomodeon",0,n):this.sendChannelMode("polymodeon",0,n)}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get output(){return this._output}get number(){return this._number}}/**
 * The `Output` class represents a single MIDI output port (not to be confused with a MIDI channel).
 * A port is made available by a MIDI device. A MIDI device can advertise several input and output
 * ports. Each port has 16 MIDI channels which can be accessed via the [`channels`](#channels)
 * property.
 *
 * The `Output` object is automatically instantiated by the library according to the host's MIDI
 * subsystem and should not be directly instantiated.
 *
 * You can access all available `Output` objects by referring to the
 * [`WebMidi.outputs`](WebMidi#outputs) array or by using methods such as
 * [`WebMidi.getOutputByName()`](WebMidi#getOutputByName) or
 * [`WebMidi.getOutputById()`](WebMidi#getOutputById).
 *
 * @fires Output#opened
 * @fires Output#disconnected
 * @fires Output#closed
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class nr extends Pe{constructor(e){super(),this._midiOutput=e,this._octaveOffset=0,this.channels=[];for(let n=1;n<=16;n++)this.channels[n]=new tu(this,n);this._midiOutput.onstatechange=this._onStateChange.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(e=>e.destroy()),this.channels=[],this._midiOutput.onstatechange=null,await this.close(),this._midiOutput=null}_onStateChange(e){let n={timestamp:y.time};e.port.connection==="open"?(n.type="opened",n.target=this,n.port=n.target,this.emit("opened",n)):e.port.connection==="closed"&&e.port.state==="connected"?(n.type="closed",n.target=this,n.port=n.target,this.emit("closed",n)):e.port.connection==="closed"&&e.port.state==="disconnected"?(n.type="disconnected",n.port={connection:e.port.connection,id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this.emit("disconnected",n)):e.port.connection==="pending"&&e.port.state==="disconnected"||console.warn("This statechange event was not caught:",e.port.connection,e.port.state)}async open(){try{return await this._midiOutput.open(),Promise.resolve(this)}catch(e){return Promise.reject(e)}}async close(){this._midiOutput?await this._midiOutput.close():await Promise.resolve()}send(e,n={time:0},r=0){if(e instanceof ki&&(e=P.isNode?e.data:e.rawData),e instanceof Uint8Array&&P.isNode&&(e=Array.from(e)),y.validation){if(!Array.isArray(e)&&!(e instanceof Uint8Array)&&(e=[e],Array.isArray(n)&&(e=e.concat(n)),n=isNaN(r)?{time:0}:{time:r}),!(parseInt(e[0])>=128&&parseInt(e[0])<=255))throw new RangeError("The first byte (status) must be an integer between 128 and 255.");e.slice(1).forEach(s=>{if(s=parseInt(s),!(s>=0&&s<=255))throw new RangeError("Data bytes must be integers between 0 and 255.")}),n||(n={time:0})}return this._midiOutput.send(e,P.toTimestamp(n.time)),this}sendSysex(e,n=[],r={}){if(e=[].concat(e),n instanceof Uint8Array){const s=new Uint8Array(1+e.length+n.length+1);s[0]=m.SYSTEM_MESSAGES.sysex,s.set(Uint8Array.from(e),1),s.set(n,1+e.length),s[s.length-1]=m.SYSTEM_MESSAGES.sysexend,this.send(s,{time:r.time})}else{const s=e.concat(n,m.SYSTEM_MESSAGES.sysexend);this.send([m.SYSTEM_MESSAGES.sysex].concat(s),{time:r.time})}return this}clear(){return this._midiOutput.clear?this._midiOutput.clear():y.validation&&console.warn("The 'clear()' method has not yet been implemented in your environment."),this}sendTimecodeQuarterFrame(e,n={}){if(y.validation&&(e=parseInt(e),isNaN(e)||!(e>=0&&e<=127)))throw new RangeError("The value must be an integer between 0 and 127.");return this.send([m.SYSTEM_MESSAGES.timecode,e],{time:n.time}),this}sendSongPosition(e=0,n={}){e=Math.floor(e)||0;var r=e>>7&127,s=e&127;return this.send([m.SYSTEM_MESSAGES.songposition,r,s],{time:n.time}),this}sendSongSelect(e=0,n={}){if(y.validation&&(e=parseInt(e),isNaN(e)||!(e>=0&&e<=127)))throw new RangeError("The program value must be between 0 and 127");return this.send([m.SYSTEM_MESSAGES.songselect,e],{time:n.time}),this}sendTuneRequest(e={}){return this.send([m.SYSTEM_MESSAGES.tunerequest],{time:e.time}),this}sendClock(e={}){return this.send([m.SYSTEM_MESSAGES.clock],{time:e.time}),this}sendStart(e={}){return this.send([m.SYSTEM_MESSAGES.start],{time:e.time}),this}sendContinue(e={}){return this.send([m.SYSTEM_MESSAGES.continue],{time:e.time}),this}sendStop(e={}){return this.send([m.SYSTEM_MESSAGES.stop],{time:e.time}),this}sendActiveSensing(e={}){return this.send([m.SYSTEM_MESSAGES.activesensing],{time:e.time}),this}sendReset(e={}){return this.send([m.SYSTEM_MESSAGES.reset],{time:e.time}),this}sendTuningRequest(e={}){return y.validation&&console.warn("The sendTuningRequest() method has been deprecated. Use sendTuningRequest() instead."),this.sendTuneRequest(e)}sendKeyAftertouch(e,n,r={}){return r.channels==null&&(r.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendKeyAftertouch(e,n,r)}),this}sendControlChange(e,n,r={},s={}){if(y.validation&&(Array.isArray(r)||Number.isInteger(r)||r==="all")){const i=r;r=s,r.channels=i,r.channels==="all"&&(r.channels=m.MIDI_CHANNEL_NUMBERS)}return r.channels==null&&(r.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(r.channels).forEach(i=>{this.channels[i].sendControlChange(e,n,r)}),this}sendPitchBendRange(e=0,n=0,r={}){return r.channels==null&&(r.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendPitchBendRange(e,n,r)}),this}setPitchBendRange(e=0,n=0,r="all",s={}){return y.validation&&(console.warn("The setPitchBendRange() method is deprecated. Use sendPitchBendRange() instead."),s.channels=r,s.channels==="all"&&(s.channels=m.MIDI_CHANNEL_NUMBERS)),this.sendPitchBendRange(e,n,s)}sendRpnValue(e,n,r={}){return r.channels==null&&(r.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendRpnValue(e,n,r)}),this}setRegisteredParameter(e,n=[],r="all",s={}){return y.validation&&(console.warn("The setRegisteredParameter() method is deprecated. Use sendRpnValue() instead."),s.channels=r,s.channels==="all"&&(s.channels=m.MIDI_CHANNEL_NUMBERS)),this.sendRpnValue(e,n,s)}sendChannelAftertouch(e,n={},r={}){if(y.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=m.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendChannelAftertouch(e,n)}),this}sendPitchBend(e,n={},r={}){if(y.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=m.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendPitchBend(e,n)}),this}sendProgramChange(e=0,n={},r={}){if(y.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=m.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendProgramChange(e,n)}),this}sendModulationRange(e,n,r={}){return r.channels==null&&(r.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendModulationRange(e,n,r)}),this}setModulationRange(e=0,n=0,r="all",s={}){return y.validation&&(console.warn("The setModulationRange() method is deprecated. Use sendModulationRange() instead."),s.channels=r,s.channels==="all"&&(s.channels=m.MIDI_CHANNEL_NUMBERS)),this.sendModulationRange(e,n,s)}sendMasterTuning(e,n={}){return n.channels==null&&(n.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendMasterTuning(e,n)}),this}setMasterTuning(e,n={},r={}){return y.validation&&(console.warn("The setMasterTuning() method is deprecated. Use sendMasterTuning() instead."),r.channels=n,r.channels==="all"&&(r.channels=m.MIDI_CHANNEL_NUMBERS)),this.sendMasterTuning(e,r)}sendTuningProgram(e,n={}){return n.channels==null&&(n.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendTuningProgram(e,n)}),this}setTuningProgram(e,n="all",r={}){return y.validation&&(console.warn("The setTuningProgram() method is deprecated. Use sendTuningProgram() instead."),r.channels=n,r.channels==="all"&&(r.channels=m.MIDI_CHANNEL_NUMBERS)),this.sendTuningProgram(e,r)}sendTuningBank(e=0,n={}){return n.channels==null&&(n.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendTuningBank(e,n)}),this}setTuningBank(e,n="all",r={}){return y.validation&&(console.warn("The setTuningBank() method is deprecated. Use sendTuningBank() instead."),r.channels=n,r.channels==="all"&&(r.channels=m.MIDI_CHANNEL_NUMBERS)),this.sendTuningBank(e,r)}sendChannelMode(e,n=0,r={},s={}){if(y.validation&&(Array.isArray(r)||Number.isInteger(r)||r==="all")){const i=r;r=s,r.channels=i,r.channels==="all"&&(r.channels=m.MIDI_CHANNEL_NUMBERS)}return r.channels==null&&(r.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(r.channels).forEach(i=>{this.channels[i].sendChannelMode(e,n,r)}),this}sendAllSoundOff(e={}){return e.channels==null&&(e.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(e.channels).forEach(n=>{this.channels[n].sendAllSoundOff(e)}),this}sendAllNotesOff(e={}){return e.channels==null&&(e.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(e.channels).forEach(n=>{this.channels[n].sendAllNotesOff(e)}),this}sendResetAllControllers(e={},n={}){if(y.validation&&(Array.isArray(e)||Number.isInteger(e)||e==="all")){const r=e;e=n,e.channels=r,e.channels==="all"&&(e.channels=m.MIDI_CHANNEL_NUMBERS)}return e.channels==null&&(e.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(e.channels).forEach(r=>{this.channels[r].sendResetAllControllers(e)}),this}sendPolyphonicMode(e,n={},r={}){if(y.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=m.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendPolyphonicMode(e,n)}),this}sendLocalControl(e,n={},r={}){if(y.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=m.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendLocalControl(e,n)}),this}sendOmniMode(e,n={},r={}){if(y.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=m.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendOmniMode(e,n)}),this}sendNrpnValue(e,n,r={}){return r.channels==null&&(r.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendNrpnValue(e,n,r)}),this}setNonRegisteredParameter(e,n=[],r="all",s={}){return y.validation&&(console.warn("The setNonRegisteredParameter() method is deprecated. Use sendNrpnValue() instead."),s.channels=r,s.channels==="all"&&(s.channels=m.MIDI_CHANNEL_NUMBERS)),this.sendNrpnValue(e,n,s)}sendRpnIncrement(e,n={}){return n.channels==null&&(n.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendRpnIncrement(e,n)}),this}incrementRegisteredParameter(e,n="all",r={}){return y.validation&&(console.warn("The incrementRegisteredParameter() method is deprecated. Use sendRpnIncrement() instead."),r.channels=n,r.channels==="all"&&(r.channels=m.MIDI_CHANNEL_NUMBERS)),this.sendRpnIncrement(e,r)}sendRpnDecrement(e,n={}){return n.channels==null&&(n.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendRpnDecrement(e,n)}),this}decrementRegisteredParameter(e,n="all",r={}){return y.validation&&(console.warn("The decrementRegisteredParameter() method is deprecated. Use sendRpnDecrement() instead."),r.channels=n,r.channels==="all"&&(r.channels=m.MIDI_CHANNEL_NUMBERS)),this.sendRpnDecrement(e,r)}sendNoteOff(e,n={},r={}){if(y.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=m.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendNoteOff(e,n)}),this}stopNote(e,n){return this.sendNoteOff(e,n)}playNote(e,n={},r={}){if(y.validation&&(n.rawVelocity&&console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' instead."),n.velocity&&console.warn("The 'velocity' option is deprecated. Use 'velocity' instead."),Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=m.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].playNote(e,n)}),this}sendNoteOn(e,n={},r={}){if(y.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=m.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendNoteOn(e,n)}),this}get name(){return this._midiOutput.name}get id(){return this._midiOutput.id}get connection(){return this._midiOutput.connection}get manufacturer(){return this._midiOutput.manufacturer}get state(){return this._midiOutput.state}get type(){return this._midiOutput.type}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}}/**
 * The `Forwarder` class allows the forwarding of MIDI messages to predetermined outputs. When you
 * call its [`forward()`](#forward) method, it will send the specified [`Message`](Message) object
 * to all the outputs listed in its [`destinations`](#destinations) property.
 *
 * If specific channels or message types have been defined in the [`channels`](#channels) or
 * [`types`](#types) properties, only messages matching the channels/types will be forwarded.
 *
 * While it can be manually instantiated, you are more likely to come across a `Forwarder` object as
 * the return value of the [`Input.addForwarder()`](Input#addForwarder) method.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class Ns{constructor(e=[],n={}){this.destinations=[],this.types=[...Object.keys(m.SYSTEM_MESSAGES),...Object.keys(m.CHANNEL_MESSAGES)],this.channels=m.MIDI_CHANNEL_NUMBERS,this.suspended=!1,Array.isArray(e)||(e=[e]),n.types&&!Array.isArray(n.types)&&(n.types=[n.types]),n.channels&&!Array.isArray(n.channels)&&(n.channels=[n.channels]),y.validation&&(e.forEach(r=>{if(!(r instanceof nr))throw new TypeError("Destinations must be of type 'Output'.")}),n.types!==void 0&&n.types.forEach(r=>{if(!m.SYSTEM_MESSAGES.hasOwnProperty(r)&&!m.CHANNEL_MESSAGES.hasOwnProperty(r))throw new TypeError("Type must be a valid message type.")}),n.channels!==void 0&&n.channels.forEach(r=>{if(!m.MIDI_CHANNEL_NUMBERS.includes(r))throw new TypeError("MIDI channel must be between 1 and 16.")})),this.destinations=e,n.types&&(this.types=n.types),n.channels&&(this.channels=n.channels)}forward(e){this.suspended||this.types.includes(e.type)&&(e.channel&&!this.channels.includes(e.channel)||this.destinations.forEach(n=>{y.validation&&!(n instanceof nr)||n.send(e)}))}}/**
 * The `InputChannel` class represents a single MIDI input channel (1-16) from a single input
 * device. This object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `InputChannel` objects can be found inside the input's [`channels`](Input#channels)
 * property.
 *
 * @fires InputChannel#midimessage
 * @fires InputChannel#unknownmessage
 *
 * @fires InputChannel#noteoff
 * @fires InputChannel#noteon
 * @fires InputChannel#keyaftertouch
 * @fires InputChannel#programchange
 * @fires InputChannel#channelaftertouch
 * @fires InputChannel#pitchbend
 *
 * @fires InputChannel#allnotesoff
 * @fires InputChannel#allsoundoff
 * @fires InputChannel#localcontrol
 * @fires InputChannel#monomode
 * @fires InputChannel#omnimode
 * @fires InputChannel#resetallcontrollers
 *
 * @fires InputChannel#event:nrpn
 * @fires InputChannel#event:nrpn-dataentrycoarse
 * @fires InputChannel#event:nrpn-dataentryfine
 * @fires InputChannel#event:nrpn-dataincrement
 * @fires InputChannel#event:nrpn-datadecrement
 * @fires InputChannel#event:rpn
 * @fires InputChannel#event:rpn-dataentrycoarse
 * @fires InputChannel#event:rpn-dataentryfine
 * @fires InputChannel#event:rpn-dataincrement
 * @fires InputChannel#event:rpn-datadecrement
 *
 * @fires InputChannel#controlchange
 * @fires InputChannel#event:controlchange-controllerxxx
 * @fires InputChannel#event:controlchange-bankselectcoarse
 * @fires InputChannel#event:controlchange-modulationwheelcoarse
 * @fires InputChannel#event:controlchange-breathcontrollercoarse
 * @fires InputChannel#event:controlchange-footcontrollercoarse
 * @fires InputChannel#event:controlchange-portamentotimecoarse
 * @fires InputChannel#event:controlchange-dataentrycoarse
 * @fires InputChannel#event:controlchange-volumecoarse
 * @fires InputChannel#event:controlchange-balancecoarse
 * @fires InputChannel#event:controlchange-pancoarse
 * @fires InputChannel#event:controlchange-expressioncoarse
 * @fires InputChannel#event:controlchange-effectcontrol1coarse
 * @fires InputChannel#event:controlchange-effectcontrol2coarse
 * @fires InputChannel#event:controlchange-generalpurposecontroller1
 * @fires InputChannel#event:controlchange-generalpurposecontroller2
 * @fires InputChannel#event:controlchange-generalpurposecontroller3
 * @fires InputChannel#event:controlchange-generalpurposecontroller4
 * @fires InputChannel#event:controlchange-bankselectfine
 * @fires InputChannel#event:controlchange-modulationwheelfine
 * @fires InputChannel#event:controlchange-breathcontrollerfine
 * @fires InputChannel#event:controlchange-footcontrollerfine
 * @fires InputChannel#event:controlchange-portamentotimefine
 * @fires InputChannel#event:controlchange-dataentryfine
 * @fires InputChannel#event:controlchange-channelvolumefine
 * @fires InputChannel#event:controlchange-balancefine
 * @fires InputChannel#event:controlchange-panfine
 * @fires InputChannel#event:controlchange-expressionfine
 * @fires InputChannel#event:controlchange-effectcontrol1fine
 * @fires InputChannel#event:controlchange-effectcontrol2fine
 * @fires InputChannel#event:controlchange-damperpedal
 * @fires InputChannel#event:controlchange-portamento
 * @fires InputChannel#event:controlchange-sostenuto
 * @fires InputChannel#event:controlchange-softpedal
 * @fires InputChannel#event:controlchange-legatopedal
 * @fires InputChannel#event:controlchange-hold2
 * @fires InputChannel#event:controlchange-soundvariation
 * @fires InputChannel#event:controlchange-resonance
 * @fires InputChannel#event:controlchange-releasetime
 * @fires InputChannel#event:controlchange-attacktime
 * @fires InputChannel#event:controlchange-brightness
 * @fires InputChannel#event:controlchange-decaytime
 * @fires InputChannel#event:controlchange-vibratorate
 * @fires InputChannel#event:controlchange-vibratodepth
 * @fires InputChannel#event:controlchange-vibratodelay
 * @fires InputChannel#event:controlchange-generalpurposecontroller5
 * @fires InputChannel#event:controlchange-generalpurposecontroller6
 * @fires InputChannel#event:controlchange-generalpurposecontroller7
 * @fires InputChannel#event:controlchange-generalpurposecontroller8
 * @fires InputChannel#event:controlchange-portamentocontrol
 * @fires InputChannel#event:controlchange-highresolutionvelocityprefix
 * @fires InputChannel#event:controlchange-effect1depth
 * @fires InputChannel#event:controlchange-effect2depth
 * @fires InputChannel#event:controlchange-effect3depth
 * @fires InputChannel#event:controlchange-effect4depth
 * @fires InputChannel#event:controlchange-effect5depth
 * @fires InputChannel#event:controlchange-dataincrement
 * @fires InputChannel#event:controlchange-datadecrement
 * @fires InputChannel#event:controlchange-nonregisteredparameterfine
 * @fires InputChannel#event:controlchange-nonregisteredparametercoarse
 * @fires InputChannel#event:controlchange-registeredparameterfine
 * @fires InputChannel#event:controlchange-registeredparametercoarse
 * @fires InputChannel#event:controlchange-allsoundoff
 * @fires InputChannel#event:controlchange-resetallcontrollers
 * @fires InputChannel#event:controlchange-localcontrol
 * @fires InputChannel#event:controlchange-allnotesoff
 * @fires InputChannel#event:controlchange-omnimodeoff
 * @fires InputChannel#event:controlchange-omnimodeon
 * @fires InputChannel#event:controlchange-monomodeon
 * @fires InputChannel#event:controlchange-polymodeon
 * @fires InputChannel#event:
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class nu extends Pe{constructor(e,n){super(),this._input=e,this._number=n,this._octaveOffset=0,this._nrpnBuffer=[],this._rpnBuffer=[],this.parameterNumberEventsEnabled=!0,this.notesState=new Array(128).fill(!1)}destroy(){this._input=null,this._number=null,this._octaveOffset=0,this._nrpnBuffer=[],this.notesState=new Array(128).fill(!1),this.parameterNumberEventsEnabled=!1,this.removeListener()}_processMidiMessageEvent(e){const n=Object.assign({},e);n.port=this.input,n.target=this,n.type="midimessage",this.emit(n.type,n),this._parseEventForStandardMessages(n)}_parseEventForStandardMessages(e){const n=Object.assign({},e);n.type=n.message.type||"unknownmessage";const r=e.message.dataBytes[0],s=e.message.dataBytes[1];if(n.type==="noteoff"||n.type==="noteon"&&s===0)this.notesState[r]=!1,n.type="noteoff",n.note=new ut(P.offsetNumber(r,this.octaveOffset+this.input.octaveOffset+y.octaveOffset),{rawAttack:0,rawRelease:s}),n.value=P.from7bitToFloat(s),n.rawValue=s,n.velocity=n.note.release,n.rawVelocity=n.note.rawRelease;else if(n.type==="noteon")this.notesState[r]=!0,n.note=new ut(P.offsetNumber(r,this.octaveOffset+this.input.octaveOffset+y.octaveOffset),{rawAttack:s}),n.value=P.from7bitToFloat(s),n.rawValue=s,n.velocity=n.note.attack,n.rawVelocity=n.note.rawAttack;else if(n.type==="keyaftertouch")n.note=new ut(P.offsetNumber(r,this.octaveOffset+this.input.octaveOffset+y.octaveOffset)),n.value=P.from7bitToFloat(s),n.rawValue=s,n.identifier=n.note.identifier,n.key=n.note.number,n.rawKey=r;else if(n.type==="controlchange"){n.controller={number:r,name:m.CONTROL_CHANGE_MESSAGES[r].name,description:m.CONTROL_CHANGE_MESSAGES[r].description,position:m.CONTROL_CHANGE_MESSAGES[r].position},n.subtype=n.controller.name||"controller"+r,n.value=P.from7bitToFloat(s),n.rawValue=s;const i=Object.assign({},n);i.type=`${n.type}-controller${r}`,delete i.subtype,this.emit(i.type,i);const o=Object.assign({},n);o.type=`${n.type}-`+m.CONTROL_CHANGE_MESSAGES[r].name,delete o.subtype,o.type.indexOf("controller")!==0&&this.emit(o.type,o),n.message.dataBytes[0]>=120&&this._parseChannelModeMessage(n),this.parameterNumberEventsEnabled&&this._isRpnOrNrpnController(n.message.dataBytes[0])&&this._parseEventForParameterNumber(n)}else n.type==="programchange"?(n.value=r,n.rawValue=n.value):n.type==="channelaftertouch"?(n.value=P.from7bitToFloat(r),n.rawValue=r):n.type==="pitchbend"?(n.value=((s<<7)+r-8192)/8192,n.rawValue=(s<<7)+r):n.type="unknownmessage";this.emit(n.type,n)}_parseChannelModeMessage(e){const n=Object.assign({},e);n.type=n.controller.name,n.type==="localcontrol"&&(n.value=n.message.data[2]===127,n.rawValue=n.message.data[2]),n.type==="omnimodeon"?(n.type="omnimode",n.value=!0,n.rawValue=n.message.data[2]):n.type==="omnimodeoff"&&(n.type="omnimode",n.value=!1,n.rawValue=n.message.data[2]),n.type==="monomodeon"?(n.type="monomode",n.value=!0,n.rawValue=n.message.data[2]):n.type==="polymodeon"&&(n.type="monomode",n.value=!1,n.rawValue=n.message.data[2]),this.emit(n.type,n)}_parseEventForParameterNumber(e){const n=e.message.dataBytes[0],r=e.message.dataBytes[1];n===99||n===101?(this._nrpnBuffer=[],this._rpnBuffer=[],n===99?this._nrpnBuffer=[e.message]:r!==127&&(this._rpnBuffer=[e.message])):n===98||n===100?n===98?(this._rpnBuffer=[],this._nrpnBuffer.length===1?this._nrpnBuffer.push(e.message):this._nrpnBuffer=[]):(this._nrpnBuffer=[],this._rpnBuffer.length===1&&r!==127?this._rpnBuffer.push(e.message):this._rpnBuffer=[]):(n===6||n===38||n===96||n===97)&&(this._rpnBuffer.length===2?this._dispatchParameterNumberEvent("rpn",this._rpnBuffer[0].dataBytes[1],this._rpnBuffer[1].dataBytes[1],e):this._nrpnBuffer.length===2?this._dispatchParameterNumberEvent("nrpn",this._nrpnBuffer[0].dataBytes[1],this._nrpnBuffer[1].dataBytes[1],e):(this._nrpnBuffer=[],this._rpnBuffer=[]))}_isRpnOrNrpnController(e){return e===6||e===38||e===96||e===97||e===98||e===99||e===100||e===101}_dispatchParameterNumberEvent(e,n,r,s){e=e==="nrpn"?"nrpn":"rpn";const i={target:s.target,timestamp:s.timestamp,message:s.message,parameterMsb:n,parameterLsb:r,value:P.from7bitToFloat(s.message.dataBytes[1]),rawValue:s.message.dataBytes[1]};e==="rpn"?i.parameter=Object.keys(m.REGISTERED_PARAMETERS).find(c=>m.REGISTERED_PARAMETERS[c][0]===n&&m.REGISTERED_PARAMETERS[c][1]===r):i.parameter=(n<<7)+r;const o=m.CONTROL_CHANGE_MESSAGES[s.message.dataBytes[0]].name;i.type=`${e}-${o}`,this.emit(i.type,i);const a=Object.assign({},i);a.type==="nrpn-dataincrement"?a.type="nrpn-databuttonincrement":a.type==="nrpn-datadecrement"?a.type="nrpn-databuttondecrement":a.type==="rpn-dataincrement"?a.type="rpn-databuttonincrement":a.type==="rpn-datadecrement"&&(a.type="rpn-databuttondecrement"),this.emit(a.type,a),i.type=e,i.subtype=o,this.emit(i.type,i)}getChannelModeByNumber(e){return y.validation&&(console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class."),e=Math.floor(e)),P.getChannelModeByNumber(e)}getCcNameByNumber(e){if(y.validation&&(console.warn("The 'getCcNameByNumber()' method has been moved to the 'Utilities' class."),e=parseInt(e),!(e>=0&&e<=127)))throw new RangeError("Invalid control change number.");return P.getCcNameByNumber(e)}getNoteState(e){e instanceof ut&&(e=e.identifier);const n=P.guessNoteNumber(e,y.octaveOffset+this.input.octaveOffset+this.octaveOffset);return this.notesState[n]}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get input(){return this._input}get number(){return this._number}get nrpnEventsEnabled(){return this.parameterNumberEventsEnabled}set nrpnEventsEnabled(e){this.validation&&(e=!!e),this.parameterNumberEventsEnabled=e}}/**
 * The `Message` class represents a single MIDI message. It has several properties that make it
 * easy to make sense of the binary data it contains.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class ki{constructor(e){this.rawData=e,this.data=Array.from(this.rawData),this.statusByte=this.rawData[0],this.rawDataBytes=this.rawData.slice(1),this.dataBytes=this.data.slice(1),this.isChannelMessage=!1,this.isSystemMessage=!1,this.command=void 0,this.channel=void 0,this.manufacturerId=void 0,this.type=void 0,this.statusByte<240?(this.isChannelMessage=!0,this.command=this.statusByte>>4,this.channel=(this.statusByte&15)+1):(this.isSystemMessage=!0,this.command=this.statusByte),this.isChannelMessage?this.type=P.getPropertyByValue(m.CHANNEL_MESSAGES,this.command):this.isSystemMessage&&(this.type=P.getPropertyByValue(m.SYSTEM_MESSAGES,this.command)),this.statusByte===m.SYSTEM_MESSAGES.sysex&&(this.dataBytes[0]===0?(this.manufacturerId=this.dataBytes.slice(0,3),this.dataBytes=this.dataBytes.slice(3,this.rawDataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(3,this.rawDataBytes.length-1)):(this.manufacturerId=[this.dataBytes[0]],this.dataBytes=this.dataBytes.slice(1,this.dataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(1,this.rawDataBytes.length-1)))}}/**
 * The `Input` class represents a single MIDI input port. This object is automatically instantiated
 * by the library according to the host's MIDI subsystem and does not need to be directly
 * instantiated. Instead, you can access all `Input` objects by referring to the
 * [`WebMidi.inputs`](WebMidi#inputs) array. You can also retrieve inputs by using methods such as
 * [`WebMidi.getInputByName()`](WebMidi#getInputByName) and
 * [`WebMidi.getInputById()`](WebMidi#getInputById).
 *
 * Note that a single MIDI device may expose several inputs and/or outputs.
 *
 * **Important**: the `Input` class does not directly fire channel-specific MIDI messages
 * (such as [`noteon`](InputChannel#event:noteon) or
 * [`controlchange`](InputChannel#event:controlchange), etc.). The [`InputChannel`](InputChannel)
 * object does that. However, you can still use the
 * [`Input.addListener()`](#addListener) method to listen to channel-specific events on multiple
 * [`InputChannel`](InputChannel) objects at once.
 *
 * @fires Input#opened
 * @fires Input#disconnected
 * @fires Input#closed
 * @fires Input#midimessage
 *
 * @fires Input#sysex
 * @fires Input#timecode
 * @fires Input#songposition
 * @fires Input#songselect
 * @fires Input#tunerequest
 * @fires Input#clock
 * @fires Input#start
 * @fires Input#continue
 * @fires Input#stop
 * @fires Input#activesensing
 * @fires Input#reset
 *
 * @fires Input#unknownmidimessage
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class ru extends Pe{constructor(e){super(),this._midiInput=e,this._octaveOffset=0,this.channels=[];for(let n=1;n<=16;n++)this.channels[n]=new nu(this,n);this._forwarders=[],this._midiInput.onstatechange=this._onStateChange.bind(this),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(e=>e.destroy()),this.channels=[],this._forwarders=[],this._midiInput&&(this._midiInput.onstatechange=null,this._midiInput.onmidimessage=null),await this.close(),this._midiInput=null}_onStateChange(e){let n={timestamp:y.time,target:this,port:this};e.port.connection==="open"?(n.type="opened",this.emit("opened",n)):e.port.connection==="closed"&&e.port.state==="connected"?(n.type="closed",this.emit("closed",n)):e.port.connection==="closed"&&e.port.state==="disconnected"?(n.type="disconnected",n.port={connection:e.port.connection,id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this.emit("disconnected",n)):e.port.connection==="pending"&&e.port.state==="disconnected"||console.warn("This statechange event was not caught: ",e.port.connection,e.port.state)}_onMidiMessage(e){const n=new ki(e.data),r={port:this,target:this,message:n,timestamp:e.timeStamp,type:"midimessage",data:n.data,rawData:n.data,statusByte:n.data[0],dataBytes:n.dataBytes};this.emit("midimessage",r),n.isSystemMessage?this._parseEvent(r):n.isChannelMessage&&this.channels[n.channel]._processMidiMessageEvent(r),this._forwarders.forEach(s=>s.forward(n))}_parseEvent(e){const n=Object.assign({},e);n.type=n.message.type||"unknownmidimessage",n.type==="songselect"&&(n.song=e.data[1]+1,n.value=e.data[1],n.rawValue=n.value),this.emit(n.type,n)}async open(){try{await this._midiInput.open()}catch(e){return Promise.reject(e)}return Promise.resolve(this)}async close(){if(!this._midiInput)return Promise.resolve(this);try{await this._midiInput.close()}catch(e){return Promise.reject(e)}return Promise.resolve(this)}getChannelModeByNumber(){y.validation&&console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class.")}addListener(e,n,r={}){if(y.validation&&typeof r=="function"){let s=n!=null?[].concat(n):void 0;n=r,r={channels:s}}if(m.CHANNEL_EVENTS.includes(e)){r.channels===void 0&&(r.channels=m.MIDI_CHANNEL_NUMBERS);let s=[];return P.sanitizeChannels(r.channels).forEach(i=>{s.push(this.channels[i].addListener(e,n,r))}),s}else return super.addListener(e,n,r)}addOneTimeListener(e,n,r={}){return r.remaining=1,this.addListener(e,n,r)}on(e,n,r,s){return this.addListener(e,n,r,s)}hasListener(e,n,r={}){if(y.validation&&typeof r=="function"){let s=[].concat(n);n=r,r={channels:s}}return m.CHANNEL_EVENTS.includes(e)?(r.channels===void 0&&(r.channels=m.MIDI_CHANNEL_NUMBERS),P.sanitizeChannels(r.channels).every(s=>this.channels[s].hasListener(e,n))):super.hasListener(e,n)}removeListener(e,n,r={}){if(y.validation&&typeof r=="function"){let s=[].concat(n);n=r,r={channels:s}}if(r.channels===void 0&&(r.channels=m.MIDI_CHANNEL_NUMBERS),e==null)return P.sanitizeChannels(r.channels).forEach(s=>{this.channels[s]&&this.channels[s].removeListener()}),super.removeListener();m.CHANNEL_EVENTS.includes(e)?P.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].removeListener(e,n,r)}):super.removeListener(e,n,r)}addForwarder(e,n={}){let r;return e instanceof Ns?r=e:r=new Ns(e,n),this._forwarders.push(r),r}removeForwarder(e){this._forwarders=this._forwarders.filter(n=>n!==e)}hasForwarder(e){return this._forwarders.includes(e)}get name(){return this._midiInput.name}get id(){return this._midiInput.id}get connection(){return this._midiInput.connection}get manufacturer(){return this._midiInput.manufacturer}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get state(){return this._midiInput.state}get type(){return this._midiInput.type}get nrpnEventsEnabled(){return y.validation&&console.warn("The 'nrpnEventsEnabled' property has been moved to the 'InputChannel' class."),!1}}/**
 * The `WebMidi` object makes it easier to work with the low-level Web MIDI API. Basically, it
 * simplifies sending outgoing MIDI messages and reacting to incoming MIDI messages.
 *
 * When using the WebMidi.js library, you should know that the `WebMidi` class has already been
 * instantiated. You cannot instantiate it yourself. If you use the **IIFE** version, you should
 * simply use the global object called `WebMidi`. If you use the **CJS** (CommonJS) or **ESM** (ES6
 * module) version, you get an already-instantiated object when you import the module.
 *
 * @fires WebMidi#connected
 * @fires WebMidi#disabled
 * @fires WebMidi#disconnected
 * @fires WebMidi#enabled
 * @fires WebMidi#error
 * @fires WebMidi#midiaccessgranted
 * @fires WebMidi#portschanged
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class su extends Pe{constructor(){super(),this.defaults={note:{attack:P.from7bitToFloat(64),release:P.from7bitToFloat(64),duration:1/0}},this.interface=null,this.validation=!0,this._inputs=[],this._disconnectedInputs=[],this._outputs=[],this._disconnectedOutputs=[],this._stateChangeQueue=[],this._octaveOffset=0}async enable(e={},n=!1){if(P.isNode){try{window.navigator}catch{global.navigator=await Object.getPrototypeOf(async function(){}).constructor(`
        let jzz = await import("jzz");
        return jzz.default;
        `)()}try{}catch{global.performance=await Object.getPrototypeOf(async function(){}).constructor(`
        let perf_hooks = await import("perf_hooks");
        return perf_hooks.performance;
        `)()}}if(this.validation=e.validation!==!1,this.validation&&(typeof e=="function"&&(e={callback:e,sysex:n}),n&&(e.sysex=!0)),this.enabled)return typeof e.callback=="function"&&e.callback(),Promise.resolve();const r={timestamp:this.time,target:this,type:"error",error:void 0},s={timestamp:this.time,target:this,type:"midiaccessgranted"},i={timestamp:this.time,target:this,type:"enabled"};try{typeof e.requestMIDIAccessFunction=="function"?this.interface=await e.requestMIDIAccessFunction({sysex:e.sysex,software:e.software}):this.interface=await navigator.requestMIDIAccess({sysex:e.sysex,software:e.software})}catch(o){return r.error=o,this.emit("error",r),typeof e.callback=="function"&&e.callback(o),Promise.reject(o)}this.emit("midiaccessgranted",s),this.interface.onstatechange=this._onInterfaceStateChange.bind(this);try{await this._updateInputsAndOutputs()}catch(o){return r.error=o,this.emit("error",r),typeof e.callback=="function"&&e.callback(o),Promise.reject(o)}return this.emit("enabled",i),typeof e.callback=="function"&&e.callback(),Promise.resolve(this)}async disable(){return this._destroyInputsAndOutputs().then(()=>{navigator&&typeof navigator.close=="function"&&navigator.close(),this.interface&&(this.interface.onstatechange=void 0),this.interface=null;let e={timestamp:this.time,target:this,type:"disabled"};this.emit("disabled",e),this.removeListener()})}getInputById(e,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return}if(n.disconnected){for(let r=0;r<this._disconnectedInputs.length;r++)if(this._disconnectedInputs[r].id===e.toString())return this._disconnectedInputs[r]}else for(let r=0;r<this.inputs.length;r++)if(this.inputs[r].id===e.toString())return this.inputs[r]}getInputByName(e,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return;e=e.toString()}if(n.disconnected){for(let r=0;r<this._disconnectedInputs.length;r++)if(~this._disconnectedInputs[r].name.indexOf(e))return this._disconnectedInputs[r]}else for(let r=0;r<this.inputs.length;r++)if(~this.inputs[r].name.indexOf(e))return this.inputs[r]}getOutputByName(e,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return;e=e.toString()}if(n.disconnected){for(let r=0;r<this._disconnectedOutputs.length;r++)if(~this._disconnectedOutputs[r].name.indexOf(e))return this._disconnectedOutputs[r]}else for(let r=0;r<this.outputs.length;r++)if(~this.outputs[r].name.indexOf(e))return this.outputs[r]}getOutputById(e,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return}if(n.disconnected){for(let r=0;r<this._disconnectedOutputs.length;r++)if(this._disconnectedOutputs[r].id===e.toString())return this._disconnectedOutputs[r]}else for(let r=0;r<this.outputs.length;r++)if(this.outputs[r].id===e.toString())return this.outputs[r]}noteNameToNumber(e){return this.validation&&console.warn("The noteNameToNumber() method is deprecated. Use Utilities.toNoteNumber() instead."),P.toNoteNumber(e,this.octaveOffset)}getOctave(e){return this.validation&&(console.warn("The getOctave()is deprecated. Use Utilities.getNoteDetails() instead"),e=parseInt(e)),!isNaN(e)&&e>=0&&e<=127?P.getNoteDetails(P.offsetNumber(e,this.octaveOffset)).octave:!1}sanitizeChannels(e){return this.validation&&console.warn("The sanitizeChannels() method has been moved to the utilities class."),P.sanitizeChannels(e)}toMIDIChannels(e){return this.validation&&console.warn("The toMIDIChannels() method has been deprecated. Use Utilities.sanitizeChannels() instead."),P.sanitizeChannels(e)}guessNoteNumber(e){return this.validation&&console.warn("The guessNoteNumber() method has been deprecated. Use Utilities.guessNoteNumber() instead."),P.guessNoteNumber(e,this.octaveOffset)}getValidNoteArray(e,n={}){return this.validation&&console.warn("The getValidNoteArray() method has been moved to the Utilities.buildNoteArray()"),P.buildNoteArray(e,n)}convertToTimestamp(e){return this.validation&&console.warn("The convertToTimestamp() method has been moved to Utilities.toTimestamp()."),P.toTimestamp(e)}async _destroyInputsAndOutputs(){let e=[];return this.inputs.forEach(n=>e.push(n.destroy())),this.outputs.forEach(n=>e.push(n.destroy())),Promise.all(e).then(()=>{this._inputs=[],this._outputs=[]})}_onInterfaceStateChange(e){this._updateInputsAndOutputs();let n={timestamp:e.timeStamp,type:e.port.state,target:this};if(e.port.state==="connected"&&e.port.connection==="open"){e.port.type==="output"?n.port=this.getOutputById(e.port.id):e.port.type==="input"&&(n.port=this.getInputById(e.port.id)),this.emit(e.port.state,n);const r=Object.assign({},n);r.type="portschanged",this.emit(r.type,r)}else if(e.port.state==="disconnected"&&e.port.connection==="pending"){e.port.type==="input"?n.port=this.getInputById(e.port.id,{disconnected:!0}):e.port.type==="output"&&(n.port=this.getOutputById(e.port.id,{disconnected:!0})),this.emit(e.port.state,n);const r=Object.assign({},n);r.type="portschanged",this.emit(r.type,r)}}async _updateInputsAndOutputs(){return Promise.all([this._updateInputs(),this._updateOutputs()])}async _updateInputs(){if(!this.interface)return;for(let n=this._inputs.length-1;n>=0;n--){const r=this._inputs[n];Array.from(this.interface.inputs.values()).find(i=>i===r._midiInput)||(this._disconnectedInputs.push(r),this._inputs.splice(n,1))}let e=[];return this.interface.inputs.forEach(n=>{if(!this._inputs.find(r=>r._midiInput===n)){let r=this._disconnectedInputs.find(s=>s._midiInput===n);r||(r=new ru(n)),this._inputs.push(r),e.push(r.open())}}),Promise.all(e)}async _updateOutputs(){if(!this.interface)return;for(let n=this._outputs.length-1;n>=0;n--){const r=this._outputs[n];Array.from(this.interface.outputs.values()).find(i=>i===r._midiOutput)||(this._disconnectedOutputs.push(r),this._outputs.splice(n,1))}let e=[];return this.interface.outputs.forEach(n=>{if(!this._outputs.find(r=>r._midiOutput===n)){let r=this._disconnectedOutputs.find(s=>s._midiOutput===n);r||(r=new nr(n)),this._outputs.push(r),e.push(r.open())}}),Promise.all(e)}get enabled(){return this.interface!==null}get inputs(){return this._inputs}get isNode(){return this.validation&&console.warn("WebMidi.isNode has been deprecated. Use Utilities.isNode instead."),P.isNode}get isBrowser(){return this.validation&&console.warn("WebMidi.isBrowser has been deprecated. Use Utilities.isBrowser instead."),P.isBrowser}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get outputs(){return this._outputs}get supported(){return typeof navigator<"u"&&navigator.requestMIDIAccess}get sysexEnabled(){return!!(this.interface&&this.interface.sysexEnabled)}get time(){return performance.now()}get version(){return"3.1.5"}get flavour(){return"esm"}get CHANNEL_EVENTS(){return this.validation&&console.warn("The CHANNEL_EVENTS enum has been moved to Enumerations.CHANNEL_EVENTS."),m.CHANNEL_EVENTS}get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been moved to Enumerations.SYSTEM_MESSAGES."),m.SYSTEM_MESSAGES}get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been moved to Enumerations.CHANNEL_MODE_MESSAGES."),m.CHANNEL_MODE_MESSAGES}get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been replaced by the Enumerations.CONTROL_CHANGE_MESSAGES array."),m.MIDI_CONTROL_CHANGE_MESSAGES}get MIDI_REGISTERED_PARAMETER(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETER enum has been moved to Enumerations.REGISTERED_PARAMETERS."),m.REGISTERED_PARAMETERS}get NOTES(){return this.validation&&console.warn("The NOTES enum has been deprecated."),["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]}}const y=new su;y.constructor=null;function iu(){return y.getInputByName("Virtual Midi Daw In")??null}function ou(){return y.getOutputByName("Virtual Midi Daw Out")??null}function au(t){return y.getInputByName(t?"Virtual Midi Simulator Out":"Komplete Audio 6")??null}function lu(t){return y.getOutputByName(t?"Virtual Midi Simulator In":"Komplete Audio 6")??null}const At=pe([]),wt=pe([]);function cu(t=!1){const e=pe([]),n=pe([]),r=pe(null),s=pe(null),i=pe(null),o=pe(null);Er(async()=>{await y.enable(),e.value=y.inputs,n.value=y.outputs,r.value=iu(),s.value=ou(),i.value=au(t),o.value=lu(t)}),Ct(r,(f,h)=>{h&&(wt.value.forEach(g=>h.removeListener("controlchange",g)),wt.value.forEach(g=>h.removeListener("programchange",g))),f&&(wt.value.forEach(g=>f.addListener("controlchange",g)),wt.value.forEach(g=>f.addListener("programchange",g)))}),Ct(i,(f,h)=>{h&&(At.value.forEach(g=>h.removeListener("controlchange",g)),At.value.forEach(g=>h.removeListener("programchange",g))),f&&(console.log("adding listener"),At.value.forEach(g=>f.addListener("controlchange",g)),At.value.forEach(g=>f.addListener("programchange",g)))});function a(f){At.value.push(f)}function c(f){wt.value.push(f)}return{midiInputs:e,midiOutputs:n,dawMidiInput:r,dawMidiOutput:s,pedalMidiInput:i,pedalMidiOutput:o,onPedalEvent:a,onDawEvent:c}}const ji=t=>(Wo("data-v-3f926004"),t=t(),qo(),t),uu={class:"pedalboard grid grid-cols-1 grid-rows-[auto_auto_1fr]"},fu={class:"top-bar flex justify-between items-center p-4 gap-4"},du={class:"w-full"},hu=ji(()=>ce("label",{for:"midi-input",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," Simulator Midi Out ",-1)),mu=["value"],pu={class:"w-full"},gu=ji(()=>ce("label",{for:"midi-output",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," Simulator Midi In ",-1)),bu=["value"],Mu={class:"preset-bar flex justify-center items-center h-16 mb-4 text-4xl"},Eu=la({__name:"App",setup(t){const{midiOutputs:e,dawMidiOutput:n,dawMidiInput:r,midiInputs:s,onPedalEvent:i}=cu(!0),o=pe(["major","minor"]),a=pe([2,3,4,5]),c=pe(Hn.getChord("major","C")),f=pe(!1),h=()=>{var z;f.value=!1;const x=eu.get("C chromatic").notes,S=x[Math.floor(Math.random()*x.length)],W=o.value[Math.floor(Math.random()*o.value.length)],k=Hn.getChord(W,S),ae=a.value[Math.floor(Math.random()*a.value.length)];k.notes[Math.floor(Math.random()*k.notes.length)];const B=Hn.getChord(W,S+ae);console.log(B),c.value=B,(z=n.value)==null||z.channels[1].playNote(B.notes,{duration:1e3})},g=()=>{f.value=!0},E=()=>{var C;(C=n.value)==null||C.channels[1].playNote(c.value.notes,{duration:1e3})};return(C,x)=>(Xe(),ct("div",uu,[ce("div",fu,[ce("div",du,[hu,Wr(ce("select",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500","onUpdate:modelValue":x[0]||(x[0]=S=>te(r)?r.value=S:null)},[(Xe(!0),ct(he,null,qr(vt(s),S=>(Xe(),ct("option",{key:S,value:S},Tn(S.name),9,mu))),128))],512),[[ds,vt(r)]])]),ce("div",pu,[gu,Wr(ce("select",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500","onUpdate:modelValue":x[1]||(x[1]=S=>te(n)?n.value=S:null)},[(Xe(!0),ct(he,null,qr(vt(e),S=>(Xe(),ct("option",{key:S,value:S},Tn(S.name),9,bu))),128))],512),[[ds,vt(n)]])])]),ce("div",Mu,[f.value?(Xe(),ct(he,{key:0},[gi(Tn(c.value.name),1)],64)):Ga("",!0)]),ce("div",{class:"grid-layout flex grid justify-center grid-cols-3 gap-4 p-4"},[ce("button",{class:"text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-700 dark:border-gray-700",onClick:h},"Generar acorde random"),ce("button",{class:"text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-700 dark:border-gray-700",onClick:g},"Mostrar acorde"),ce("button",{class:"text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-700 dark:border-gray-700",onClick:E},"Volver a tocar el acorde")])]))}});const yu=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},_u=yu(Eu,[["__scopeId","data-v-3f926004"]]);Pl(_u).mount("#app");
